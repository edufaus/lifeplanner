{
  "version": 3,
  "sources": ["../../twilio-client-mirror/twilio.js", "dep:twilio-client-mirror"],
  "sourcesContent": ["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nTwilio = (function(loadedTwilio) {\nvar Twilio = loadedTwilio || function Twilio() { };\nfunction extend(M) { for (var k in M) Twilio[k] = M[k] }\nextend((function(){\n    var util = require('./twilio/util');\n    // Hack for determining asset path.\n    var TWILIO_ROOT = typeof TWILIO_ROOT != \"undefined\" ?  TWILIO_ROOT : (function(){\n        var prot = location.protocol || \"http:\",\n            uri = \"//media.twiliocdn.com/sdk/js/client/\",\n            scripts = document.getElementsByTagName(\"script\"),\n            re = RegExp(\"(\\\\w+:)?(\\/\\/.*)v\" + util.getPStreamVersion() + \"/(twilio.min.js|twilio.js)\");\n        for (var i = 0; i < scripts.length; i++) {\n            var match = scripts[i].src.match(re);\n            if (match) {\n                prot = (match[1] || prot);\n                uri = match[2];\n                break;\n            }\n        }\n        return prot + uri;\n    })();\n\n    // Needed for sounds.\n    util.setTwilioRoot(TWILIO_ROOT);\n\n    // Fin.\n    var exports = require(\"./twilio\");\n    return exports;\n})());\nreturn Twilio;\n})(typeof Twilio !== 'undefined' ? Twilio : null);\n\n},{\"./twilio\":2,\"./twilio/util\":19}],2:[function(require,module,exports){\nexports.Device = require(\"./twilio/device\").Device;\nexports.PStream = require(\"./twilio/pstream\").PStream;\nexports.Connection = require(\"./twilio/connection\").Connection;\n\n},{\"./twilio/connection\":3,\"./twilio/device\":4,\"./twilio/pstream\":9}],3:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter;\nvar Exception = require('./util').Exception;\nvar log = require('./log');\nvar Publisher = require('./eventpublisher');\nvar rtc = require('./rtc');\nvar RTCMonitor = require('./rtc/monitor');\nvar twutil = require('./util');\nvar util = require('util');\n\nvar DTMF_INTER_TONE_GAP = 70;\nvar DTMF_PAUSE_DURATION = 500;\nvar DTMF_TONE_DURATION = 160;\n\nvar METRICS_BATCH_SIZE = 10;\nvar SAMPLES_TO_IGNORE = 20;\n\nvar FEEDBACK_SCORES = [1, 2, 3, 4, 5];\nvar FEEDBACK_ISSUES = [\n  'one-way-audio',\n  'choppy-audio',\n  'dropped-call',\n  'audio-latency',\n  'noisy-call',\n  'echo'\n];\n\nvar WARNING_NAMES = {\n  audioOutputLevel: 'audio-output-level',\n  audioInputLevel: 'audio-input-level',\n  packetsLostFraction: 'packet-loss',\n  jitter: 'jitter',\n  rtt: 'rtt',\n  mos: 'mos'\n};\n\nvar WARNING_PREFIXES = {\n  min: 'low-',\n  max: 'high-',\n  maxDuration: 'constant-'\n};\n\n/**\n * Constructor for Connections.\n *\n * @exports Connection as Twilio.Connection\n * @memberOf Twilio\n * @borrows EventEmitter#addListener as #addListener\n * @borrows EventEmitter#emit as #emit\n * @borrows EventEmitter#removeListener as #removeListener\n * @borrows EventEmitter#hasListener as #hasListener\n * @borrows Twilio.mixinLog-log as #log\n * @constructor\n * @param {object} device The device associated with this connection\n * @param {object} message Data to send over the connection\n * @param {Connection.Options} [options]\n *//**\n * @typedef {Object} Connection.Options\n * @property {string} [chunder=\"chunder.prod.twilio.com\"] Hostname of chunder server\n * @property {boolean} [debug=false] Enable debugging\n * @property {boolean} [encrypt=false] Encrypt media\n * @property {MediaStream} [mediaStream] Use this MediaStream object\n * @property {string} [token] The Twilio capabilities JWT\n * @property {string} [callParameters] The call parameters, if this is an incoming\n *   connection.\n */\nfunction Connection(device, message, options) {\n    if (!(this instanceof Connection)) {\n        return new Connection(device, message, options);\n    }\n    twutil.monitorEventEmitter('Twilio.Connection', this);\n    this.device = device;\n    this.message = message || {};\n\n    options = options || {};\n    var defaults = {\n        logPrefix: \"[Connection]\",\n        mediaStreamFactory: rtc.PeerConnection,\n        offerSdp: null,\n        callParameters: { },\n        debug: false,\n        encrypt: false,\n        audioConstraints: device.options['audioConstraints'],\n        rtcConstraints: device.options['rtcConstraints'],\n        iceServers: device.options['iceServers']\n    };\n    for (var prop in defaults) {\n        if (prop in options) continue;\n        options[prop] = defaults[prop];\n    }\n\n    this.options = options;\n    this.parameters = options.callParameters;\n    this._status = this.options[\"offerSdp\"] ? \"pending\" : \"closed\";\n    this._direction = this.parameters.CallSid ? 'INCOMING' : 'OUTGOING';\n\n    this.sendHangup = true;\n    log.mixinLog(this, this.options[\"logPrefix\"]);\n    this.log.enabled = this.options[\"debug\"];\n    this.log.warnings = this.options['warnings'];\n\n    // These are event listeners we need to remove from PStream.\n    function noop(){}\n    this._onCancel = noop;\n    this._onHangup = noop;\n    this._onAnswer = function(payload) {\n        if (typeof payload.callsid !== 'undefined') {\n            self.parameters.CallSid = payload.callsid;\n            self.mediaStream.callSid = payload.callsid;\n        }\n    };\n\n    var self = this;\n    function createDefaultPayload() {\n      var payload = {\n        client_name: device._clientName,\n        platform: rtc.getMediaEngine(),\n        sdk_version: twutil.getReleaseVersion(),\n        selected_region: device.options.region\n      };\n\n      if (self.parameters.CallSid && !(/^TJ/.test(self.parameters.CallSid))) {\n        payload.call_sid = self.parameters.CallSid;\n      }\n\n      if (self.outboundConnectionId) {\n        payload.temp_call_sid = self.outboundConnectionId;\n      }\n\n      if (device.stream) {\n        if (device.stream.gateway) {\n          payload.gateway = device.stream.gateway;\n        }\n\n        if (device.stream.region) {\n          payload.region = device.stream.region;\n        }\n      }\n\n      if (self._direction) {\n        payload.direction = self._direction;\n      }\n\n      return payload;\n    }\n\n    var publisher = this._publisher = new Publisher('twilio-js-sdk', device.token, {\n      host: device.options.eventgw,\n      defaultPayload: createDefaultPayload\n    });\n\n    if (options.publishEvents === false) {\n      publisher.disable();\n    }\n\n    if (this._direction === 'INCOMING') {\n      publisher.info('connection', 'incoming');\n    }\n\n    var monitor = this._monitor = new RTCMonitor();\n\n    // First 10 seconds or so are choppy, so let's not bother with these warnings.\n    monitor.disableWarnings();\n\n    var samples = [];\n\n    function createMetricPayload() {\n      var payload = {\n        call_sid: self.parameters.CallSid,\n        client_name: device._clientName,\n        sdk_version: twutil.getReleaseVersion(),\n        selected_region: device.options.region\n      };\n\n      if (device.stream) {\n        if (device.stream.gateway) {\n          payload.gateway = device.stream.gateway;\n        }\n\n        if (device.stream.region) {\n          payload.region = device.stream.region;\n        }\n      }\n\n      if (self._direction) {\n        payload.direction = self._direction;\n      }\n\n      return payload;\n    }\n\n    function publishMetrics() {\n      if (samples.length === 0) {\n        return;\n      }\n\n      publisher.postMetrics(\n        'quality-metrics-samples', 'metrics-sample', samples.splice(0), createMetricPayload()\n      );\n    }\n\n    var samplesIgnored = 0;\n    monitor.on('sample', function(sample) {\n      // Enable warnings after we've ignored the an initial amount. This is to\n      // avoid throwing false positive warnings initially.\n      if (samplesIgnored < SAMPLES_TO_IGNORE) {\n        samplesIgnored++;\n      } else if (samplesIgnored === SAMPLES_TO_IGNORE) {\n        monitor.enableWarnings();\n      }\n\n      samples.push(sample);\n      if (samples.length >= METRICS_BATCH_SIZE) {\n        publishMetrics();\n      }\n    });\n\n    function formatPayloadForEA(warningData) {\n      var payloadData = { threshold: warningData.threshold.value };\n\n      if (warningData.values) {\n        payloadData.values = warningData.values.map(function(value) {\n          if (typeof value === 'number') {\n            return Math.round(value * 100) / 100;\n          }\n\n          return value;\n        });\n      } else if (warningData.value) {\n        payloadData.value = warningData.value;\n      }\n\n      return { data: payloadData };\n    }\n\n    function reemitWarning(wasCleared, warningData) {\n      var groupPrefix = /^audio/.test(warningData.name) ?\n        'audio-level-' : 'network-quality-';\n      var groupSuffix = wasCleared ? '-cleared' : '-raised';\n      var groupName = groupPrefix + 'warning' + groupSuffix;\n\n      var warningPrefix = WARNING_PREFIXES[warningData.threshold.name];\n      var warningName = warningPrefix + WARNING_NAMES[warningData.name];\n\n      // Ignore constant input if the Connection is muted (Expected)\n      if (warningName === 'constant-audio-input-level' && self.isMuted()) {\n        return;\n      }\n\n      var level = wasCleared ? 'info' : 'warning';\n      publisher.post(level, groupName, warningName, formatPayloadForEA(warningData));\n    }\n\n    monitor.on('warning-cleared', reemitWarning.bind(null, true));\n    monitor.on('warning', reemitWarning.bind(null, false));\n\n    /**\n     * Reference to the Twilio.MediaStream object.\n     * @type Twilio.MediaStream\n     */\n    this.mediaStream = new this.options[\"mediaStreamFactory\"](\n        this.options[\"encrypt\"],\n        this.device);\n\n    this.mediaStream.oniceconnectionstatechange = function(state) {\n      var level = state === 'failed' ? 'error' : 'debug';\n      publisher.post(level, 'ice-connection-state', state);\n    };\n\n    this.mediaStream.onicegatheringstatechange = function(state) {\n      publisher.debug('signaling-state', state);\n    };\n\n    this.mediaStream.onsignalingstatechange = function(state) {\n      publisher.debug('signaling-state', state);\n    };\n\n    var self = this;\n    this.mediaStream.ondisconnect = function(msg) {\n      self.log(msg);\n      publisher.warn('network-quality-warning-raised', 'ice-connectivity-lost', {\n        message: msg\n      }, self);\n\n      /* (rrowland) This is pretty redundant, but this is intended to match\n       * the error object that was being returned previously.\n       * This is removed in 1.4 because we use warning and warning-cleared events\n       * but there is no parallel in 1.3 and we don't want to break existing\n       * application logic so we're falling back to error.\n       */\n      self.emit(\"error\", {\n        code: 31003,\n        message: msg,\n        info: {\n          code: 31003,\n          message: msg\n        },\n        connection: self\n      });\n    };\n    this.mediaStream.onreconnect = function(msg) {\n      self.log(msg);\n      publisher.info('network-quality-warning-cleared', 'ice-connectivity-lost', {\n        message: msg\n      }, self);\n    };\n    this.mediaStream.onerror = function(e) {\n        if (e.disconnect === true) {\n            self._disconnect(e.info && e.info.message);\n        }\n        var error = {\n            code: e.info.code,\n            message: e.info.message || \"Error with mediastream\",\n            info: e.info,\n            connection: self\n        };\n\n        self.log(\"Received an error from MediaStream:\", e);\n        self.emit(\"error\", error);\n    };\n\n    this.mediaStream.onopen = function() {\n        // NOTE(mroberts): While this may have been happening in previous\n        // versions of Chrome, since Chrome 45 we have seen the\n        // PeerConnection's onsignalingstatechange handler invoked multiple\n        // times in the same signalingState \"stable\". When this happens, we\n        // invoke this onopen function. If we invoke it twice without checking\n        // for _status \"open\", we'd accidentally close the PeerConnection.\n        //\n        // See <https://code.google.com/p/webrtc/issues/detail?id=4996>.\n        if (self._status === \"open\") {\n            return;\n        } else if (self._status === \"connecting\") {\n            self._status = \"open\";\n            self.mediaStream.attachAudio();\n            self.emit(\"accept\", self);\n        } else {\n            // call was probably canceled sometime before this\n            self.mediaStream.close();\n        }\n    };\n\n    this.mediaStream.onclose = function() {\n        self._status = \"closed\";\n        if (self.device.sounds.disconnect()) {\n            self.device.soundcache.play(\"disconnect\");\n        }\n\n        monitor.disable();\n        publishMetrics();\n\n        self.emit(\"disconnect\", self);\n    };\n\n    // temporary call sid to be used for outgoing calls\n    this.outboundConnectionId = twutil.generateConnectionUUID();\n\n    this.pstream = this.device.stream;\n\n    this._onCancel = function(payload) {\n        var callsid = payload.callsid;\n        if (self.parameters.CallSid == callsid) {\n            self._status = \"closed\";\n            self.emit(\"cancel\");\n            self.pstream.removeListener(\"cancel\", self._onCancel);\n        }\n    };\n\n    // NOTE(mroberts): The test \"#sendDigits throws error\" sets this to `null`.\n    if (this.pstream)\n        this.pstream.addListener(\"cancel\", this._onCancel);\n\n    this.on('error', function(error) {\n        publisher.error('connection', 'error', {\n          code: error.code, message: error.message\n        });\n\n        if (self.pstream && self.pstream.status === 'disconnected') {\n            cleanupEventListeners(self);\n        }\n    });\n\n    this.on('disconnect', function() {\n        cleanupEventListeners(self);\n    });\n\n    return this;\n}\n\nutil.inherits(Connection, EventEmitter);\n\n/**\n * @return {string}\n */\nConnection.toString = function() {\n    return \"[Twilio.Connection class]\";\n};\n\n    /**\n     * @return {string}\n     */\nConnection.prototype.toString = function() {\n        return \"[Twilio.Connection instance]\";\n};\nConnection.prototype.sendDigits = function(digits) {\n        if (digits.match(/[^0-9*#w]/)) {\n            throw new Exception(\n                \"Illegal character passed into sendDigits\");\n        }\n\n        var sequence = [];\n        for(var i = 0; i < digits.length; i++) {\n            var dtmf = digits[i] != \"w\" ? \"dtmf\" + digits[i] : \"\";\n            if (dtmf == \"dtmf*\") dtmf = \"dtmfs\";\n            if (dtmf == \"dtmf#\") dtmf = \"dtmfh\";\n            sequence.push([dtmf, 200, 20]);\n        }\n        this.device.soundcache.playseq(sequence);\n\n        var dtmfSender = this.mediaStream.getOrCreateDTMFSender();\n\n        function insertDTMF(dtmfs) {\n          if (!dtmfs.length) { return; }\n          var dtmf = dtmfs.shift();\n\n          if (dtmf.length) {\n            dtmfSender.insertDTMF(dtmf, DTMF_TONE_DURATION, DTMF_INTER_TONE_GAP);\n          }\n\n          setTimeout(insertDTMF.bind(null, dtmfs), DTMF_PAUSE_DURATION);\n        }\n\n        if (dtmfSender) {\n            if (dtmfSender.canInsertDTMF) {\n              this.log('Sending digits using RTCDTMFSender');\n              // NOTE(mroberts): We can't just map \"w\" to \",\" since\n              // RTCDTMFSender's pause duration is 2 s and Twilio's is more\n              // like 500 ms. Instead, we will fudge it with setTimeout.\n              return insertDTMF(digits.split('w'));\n            }\n            this.log('RTCDTMFSender cannot insert DTMF');\n        }\n\n        // send pstream message to send DTMF\n        this.log('Sending digits over PStream');\n        if (this.pstream != null && this.pstream.status != \"disconnected\") {\n            var payload = { dtmf: digits, callsid: this.parameters.CallSid };\n            this.pstream.publish(\"dtmf\", payload);\n        } else {\n            var payload = { error: {} };\n            var error = {\n                code: payload.error.code || 31000,\n                message: payload.error.message || \"Could not send DTMF: Signaling channel is disconnected\",\n                connection: this\n            };\n            this.emit(\"error\", error);\n        }\n};\nConnection.prototype.status = function() {\n        return this._status;\n};\n    /**\n     * Mute incoming audio.\n     */\nConnection.prototype.mute = function(muteParam) {\n        if (arguments.length === 0) {\n          this.log.deprecated('.mute() is deprecated. Please use .mute(true) or .mute(false) to mute or unmute a call instead.');\n        }\n\n        if (typeof muteParam == \"function\") {\n            // if handler, register listener\n            return this.addListener(\"mute\",muteParam);\n        }\n\n        // change state if call results in transition\n        var wasMuted = this.isMuted();\n        var self = this;\n        var callback = function() {\n            var isMuted = self.isMuted();\n            if (wasMuted != isMuted) {\n                self._publisher.info('connection', isMuted ? 'muted' : 'unmuted');\n                self.emit(\"mute\",isMuted,self);\n            }\n        }\n\n        if (muteParam == false) {\n            // if explicitly false, unmute connection\n            this.mediaStream.attachAudio(callback);\n        } else {\n            // if undefined or true, mute connection\n            this.mediaStream.detachAudio(callback);\n        }\n};\n    /**\n     * Check if connection is muted\n     */\nConnection.prototype.isMuted = function() {\n        return !this.mediaStream.isAudioAttached();\n};\n    /**\n     * Unmute (Deprecated)\n     */\nConnection.prototype.unmute = function() {\n        this.log.deprecated('.unmute() is deprecated. Please use .mute(false) to unmute a call instead.');\n        this.mute(false);\n};\nConnection.prototype.accept = function(handler) {\n        if (typeof handler == \"function\") {\n            return this.addListener(\"accept\", handler);\n        }\n        var audioConstraints = handler || this.options.audioConstraints;\n        var self = this;\n        this._status = \"connecting\";\n\n        var connect_ = function(err) {\n            if (self._status != \"connecting\") {\n                // call must have been canceled\n                cleanupEventListeners(self);\n                self.mediaStream.close();\n                return;\n            }\n\n            if (err) {\n                if (err.code === 31208) {\n                    self._publisher.error('get-user-media', 'denied', {\n                      data: {\n                        audioConstraints: audioConstraints,\n                        error: err.error\n                      }\n                    });\n                } else {\n                    self._publisher.error('get-user-media', 'failed', {\n                      data: {\n                        audioConstraints: audioConstraints,\n                        error: err.error\n                      }\n                    });\n                }\n\n                return self._die(err.message, err.code);\n            }\n\n            self._publisher.info('get-user-media', 'succeeded', {\n              data: { audioConstraints: audioConstraints }\n            });\n\n            var pairs = [];\n            for (var key in self.message) {\n                pairs.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(self.message[key]));\n            }\n\n            function onLocalAnswer(pc) {\n              self._publisher.info('connection', 'accepted-by-local');\n              self._monitor.enable(pc);\n            }\n\n            function onRemoteAnswer(pc) {\n              self._publisher.info('connection', 'accepted-by-remote');\n              self._monitor.enable(pc);\n            }\n\n            var params = pairs.join(\"&\");\n            if (self._direction === 'INCOMING') {\n                self.mediaStream.answerIncomingCall.call(self.mediaStream, self.parameters.CallSid, self.options[\"offerSdp\"], self.options.rtcConstraints, self.options.iceServers, onLocalAnswer);\n            } else {\n                self.pstream.once(\"answer\", self._onAnswer);\n                self.mediaStream.makeOutgoingCall.call(self.mediaStream, params, self.outboundConnectionId, self.options.rtcConstraints, self.options.iceServers, onRemoteAnswer);\n            }\n\n            self._onHangup = function(payload) {\n                /**\n                 *  see if callsid passed in message matches either callsid or outbound id\n                 *  connection should always have either callsid or outbound id\n                 *  if no callsid passed hangup anyways\n                 */\n                if (payload.callsid && (self.parameters.CallSid || self.outboundConnectionId)) {\n                    if (payload.callsid != self.parameters.CallSid && payload.callsid != self.outboundConnectionId) {\n                        return;\n                    }\n                } else if (payload.callsid) {\n                    // hangup is for another connection\n                    return;\n                }\n\n                self.log(\"Received HANGUP from gateway\");\n                if (payload.error) {\n                    var error = {\n                        code: payload.error.code || 31000,\n                        message: payload.error.message || \"Error sent from gateway in HANGUP\",\n                        connection: self\n                    };\n                    self.log(\"Received an error from the gateway:\", error);\n                    self.emit(\"error\", error);\n                }\n                self.sendHangup = false;\n                self._publisher.info('connection', 'disconnected-by-remote');\n                self._disconnect();\n                cleanupEventListeners(self);\n            };\n            self.pstream.addListener(\"hangup\", self._onHangup);\n        };\n        this.mediaStream.openHelper(connect_, audioConstraints);\n};\nConnection.prototype.reject = function(handler) {\n        if (typeof handler == \"function\") {\n            return this.addListener(\"reject\", handler);\n        }\n        if (this._status == \"pending\") {\n            var payload = { callsid: this.parameters.CallSid }\n            this.pstream.publish(\"reject\", payload);\n            this.emit(\"reject\");\n            this.mediaStream.reject(this.parameters.CallSid);\n            this._publisher.info('connection', 'rejected-by-local');\n        }\n};\nConnection.prototype.ignore = function(handler) {\n        if (typeof handler == \"function\") {\n            return this.addListener(\"cancel\", handler);\n        }\n        if (this._status == \"pending\") {\n            this._status = \"closed\";\n            this.emit(\"cancel\");\n            this.mediaStream.ignore(this.parameters.CallSid);\n            this._publisher.info('connection', 'ignored-by-local');\n        }\n};\nConnection.prototype.cancel = function(handler) {\n        this.log.deprecated('.cancel() is deprecated. Please use .ignore() instead.');\n        this.ignore(handler);\n};\nConnection.prototype.disconnect = function(handler) {\n    if (typeof handler === \"function\") {\n        return this.addListener(\"disconnect\", handler);\n    }\n    this._publisher.info('connection', 'disconnected-by-local');\n    this._disconnect();\n};\nConnection.prototype._disconnect = function(message) {\n        message = typeof message === 'string' ? message : null;\n        if (this._status == \"open\" || this._status == \"connecting\") {\n            this.log(\"Disconnecting...\");\n\n            // send pstream hangup message\n            if (this.pstream != null && this.pstream.status != \"disconnected\" && this.sendHangup) {\n                var callId = this.parameters.CallSid || this.outboundConnectionId;\n                if (callId) {\n                    var payload = { callsid: callId };\n                    if (message) {\n                        payload.message = message;\n                    }\n                    this.pstream.publish(\"hangup\", payload);\n                }\n            }\n\n            cleanupEventListeners(this);\n\n            this.mediaStream.close();\n        }\n};\nConnection.prototype.error = function(handler) {\n        if (typeof handler == \"function\") {\n            return this.addListener(\"error\", handler);\n        }\n};\nConnection.prototype._die = function(message,code) {\n        this.emit(\"error\", { message: message, code: code });\n        this._disconnect();\n};\n\nfunction cleanupEventListeners(connection) {\n  function cleanup() {\n      connection.pstream.removeListener('answer', connection._onAnswer);\n      connection.pstream.removeListener('cancel', connection._onCancel);\n      connection.pstream.removeListener('hangup', connection._onHangup);\n  }\n  cleanup();\n  // This is kind of a hack, but it lets us avoid rewriting more code.\n  // Basically, there's a sequencing problem with the way PeerConnection raises\n  // the\n  //\n  //   Cannot establish connection. Client is disconnected\n  //\n  // error in Connection#accept. It calls PeerConnection#onerror, which emits\n  // the error event on Connection. An error handler on Connection then calls\n  // cleanupEventListeners, but then control returns to Connection#accept. It's\n  // at this point that we add a listener for the answer event that never gets\n  // removed. setTimeout will allow us to rerun cleanup again, _after_\n  // Connection#accept returns.\n  setTimeout(cleanup, 0);\n}\n\nexports.Connection = Connection;\n\n},{\"./eventpublisher\":5,\"./log\":7,\"./rtc\":11,\"./rtc/monitor\":12,\"./util\":19,\"events\":21,\"util\":37}],4:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('util');\nvar log = require(\"./log\");\nvar twutil = require(\"./util\");\nvar rtc = require(\"./rtc\");\nvar Options = require(\"./options\").Options;\nvar Sound = require(\"./sound\").Sound;\nvar SoundCache = require('./soundcache').SoundCache;\nvar Connection = require('./connection').Connection;\nvar PStream = require('./pstream').PStream;\n\nvar REG_INTERVAL = 30000;\n\n/**\n * Constructor for Device objects.\n *\n * @exports Device as Twilio.Device\n * @memberOf Twilio\n * @borrows EventEmitter#addListener as #addListener\n * @borrows EventEmitter#emit as #emit\n * @borrows EventEmitter#hasListener #hasListener\n * @borrows EventEmitter#removeListener as #removeListener\n * @borrows Twilio.mixinLog-log as #log\n * @constructor\n * @param {string} token The Twilio capabilities token\n * @param {object} [options]\n * @config {boolean} [debug=false]\n */\nfunction Device(token, options) {\n    if (!rtc.enabled()) {\n        throw new twutil.Exception('twilio.js 1.3 requires WebRTC/ORTC browser support. '\n            + 'For more information, see <https://www.twilio.com/docs/api/client/twilio-js>. '\n            + 'If you have any questions about this announcement, please contact ' \n            + 'Twilio Support at <help@twilio.com>.');\n    }\n\n    if (!(this instanceof Device)) {\n        return new Device(token, options);\n    }\n    twutil.monitorEventEmitter('Twilio.Device', this);\n    if (!token) {\n        throw new twutil.Exception(\"Capability token is not valid or missing.\");\n    }\n\n    // copy options\n    var origOptions = {};\n    for (i in options) {\n        origOptions[i] = options[i];\n    }\n\n    var defaults = {\n        logPrefix: \"[Device]\",\n        chunderw: \"chunderw-vpc-gll.twilio.com\",\n        eventgw: \"eventgw.twilio.com\",\n        soundCacheFactory: SoundCache,\n        soundFactory: Sound,\n        connectionFactory: Connection,\n        pStreamFactory: PStream,\n        noRegister: false,\n        encrypt: false,\n        closeProtection: false,\n        secureSignaling: true,\n        warnings: true,\n        audioConstraints: true,\n        iceServers: [],\n        region: \"gll\",\n        dscp: true,\n        sounds: { }\n    };\n    options = options || {};\n    var chunderw = options['chunderw'];\n    for (var prop in defaults) {\n        if (prop in options) continue;\n        options[prop] = defaults[prop];\n    }\n\n    if (options.dscp) {\n      options.rtcConstraints = {\n        optional: [\n          {\n            googDscp: true\n          }\n        ]\n      };\n    } else {\n      options.rtcConstraints = {};\n    }\n\n    this.options = options;\n    this.token = token;\n    this._status = \"offline\";\n    this._region = \"offline\";\n    this.connections = [];\n    this.sounds = new Options({\n        incoming: true,\n        outgoing: true,\n        disconnect: true\n    });\n\n    log.mixinLog(this, this.options[\"logPrefix\"]);\n    this.log.enabled = this.options[\"debug\"];\n\n    var regions = {\n        'gll': 'chunderw-vpc-gll.twilio.com',\n        'au1': 'chunderw-vpc-gll-au1.twilio.com',\n        'br1': 'chunderw-vpc-gll-br1.twilio.com',\n        'ie1': 'chunderw-vpc-gll-ie1.twilio.com',\n        'jp1': 'chunderw-vpc-gll-jp1.twilio.com',\n        'sg1': 'chunderw-vpc-gll-sg1.twilio.com',\n        'us1': 'chunderw-vpc-gll-us1.twilio.com'\n    };\n    var deprecatedRegions = {\n        'au': 'au1',\n        'br': 'br1',\n        'ie': 'ie1',\n        'jp': 'jp1',\n        'sg': 'sg1',\n        'us-va': 'us1',\n        'us-or': 'us1'\n    };\n    var region = options['region'].toLowerCase();\n    if (region in deprecatedRegions) {\n        this.log.deprecated('Region ' + region + ' is deprecated, please use ' + deprecatedRegions[region] + '.');\n        region = deprecatedRegions[region];\n    }\n    if (!(region in regions)) {\n        throw new twutil.Exception('Region ' + options['region'] + ' is invalid. ' +\n                                   'Valid values are: ' + Object.keys(regions).join(', '));\n    }\n    options['chunderw'] = chunderw || regions[region];\n\n    this.soundcache = this.options[\"soundCacheFactory\"]();\n\n    // NOTE(mroberts): Node workaround.\n    if (typeof document === 'undefined')\n        var a = {};\n    else\n        var a = document.createElement(\"audio\");\n    canPlayMp3 = false;\n    try {\n       canPlayMp3 = !!(a.canPlayType && a.canPlayType('audio/mpeg').replace(/no/, ''));\n    }\n    catch (e) {\n    }\n    canPlayVorbis = false;\n    try {\n       canPlayVorbis = !!(a.canPlayType && a.canPlayType('audio/ogg;codecs=\"vorbis\"').replace(/no/, ''));\n    }\n    catch (e) {\n    }\n    var ext = \"mp3\";\n    if (canPlayVorbis && !canPlayMp3) {\n       ext = \"ogg\";\n    }\n\n    var defaultSounds = {\n      incoming: { filename: 'incoming', loop: true },\n      outgoing: { filename: 'outgoing', maxDuration: 3000 },\n      disconnect: { filename: 'disconnect', maxDuration: 3000 },\n      dtmf1: { filename: 'dtmf-1', maxDuration: 1000 },\n      dtmf2: { filename: 'dtmf-2', maxDuration: 1000 },\n      dtmf3: { filename: 'dtmf-3', maxDuration: 1000 },\n      dtmf4: { filename: 'dtmf-4', maxDuration: 1000 },\n      dtmf5: { filename: 'dtmf-5', maxDuration: 1000 },\n      dtmf6: { filename: 'dtmf-6', maxDuration: 1000 },\n      dtmf7: { filename: 'dtmf-7', maxDuration: 1000 },\n      dtmf8: { filename: 'dtmf-8', maxDuration: 1000 },\n      dtmf9: { filename: 'dtmf-9', maxDuration: 1000 },\n      dtmf0: { filename: 'dtmf-0', maxDuration: 1000 },\n      dtmfs: { filename: 'dtmf-star', maxDuration: 1000 },\n      dtmfh: { filename: 'dtmf-hash', maxDuration: 1000 }\n    };\n\n    var base = twutil.getTwilioRoot() + 'sounds/releases/' + twutil.getSoundVersion() + '/';\n    for (var name in defaultSounds) {\n      var soundDef = defaultSounds[name];\n      var sound = this.options.soundFactory(soundDef);\n\n      var defaultUrl = base + soundDef.filename + '.' + ext;\n      sound.load(defaultUrl);\n\n      this.soundcache.add(name, sound);\n    }\n\n    // Minimum duration for incoming ring\n    this.soundcache.envelope(\"incoming\", { release: 2000 });\n\n    var device = this;\n    this.addListener(\"incoming\", function(connection) {\n        connection.once(\"accept\", function() {\n            device.soundcache.stop(\"incoming\");\n        });\n        connection.once(\"cancel\", function() {\n            device.soundcache.stop(\"incoming\");\n        });\n        connection.once(\"error\", function() {\n            device.soundcache.stop(\"incoming\");\n        });\n        connection.once(\"reject\", function() {\n            device.soundcache.stop(\"incoming\");\n        });\n        if (device.sounds.incoming()) {\n            device.soundcache.play(\"incoming\", 0, 1000);\n        }\n    });\n\n    // setup flag for allowing presence for media types\n    this.mediaPresence = { audio: !this.options[\"noRegister\"] };\n\n    // setup stream\n    this.register(this.token);\n\n    var self = this;\n    var closeProtection = this.options[\"closeProtection\"];\n    if (closeProtection) {\n        var confirmClose = function(event) {\n            if (device._status == \"busy\" || self.connections[0]) {\n                var defaultMsg = \"A call is currently in-progress. Leaving or reloading this page will end the call.\";\n                var confirmationMsg = closeProtection == true ? defaultMsg : closeProtection;\n                (event || window.event).returnValue = confirmationMsg;\n                return confirmationMsg;\n            }\n        };\n        if (typeof window !== 'undefined') {\n            if (window.addEventListener) {\n                window.addEventListener(\"beforeunload\", confirmClose);\n            } else if (window.attachEvent) {\n                window.attachEvent(\"onbeforeunload\", confirmClose);\n            }\n        }\n    }\n\n    // close connections on unload\n    var onClose = function() {\n        device.disconnectAll();\n    }\n    if (typeof window !== 'undefined') {\n        if (window.addEventListener) {\n            window.addEventListener(\"unload\", onClose);\n        } else if (window.attachEvent) {\n            window.attachEvent(\"onunload\", onClose);\n        }\n    }\n\n    // NOTE(mroberts): EventEmitter requires that we catch all errors.\n    this.on('error', function(){});\n\n    return this;\n}\n\nutil.inherits(Device, EventEmitter);\n\nfunction makeConnection(device, params, options) {\n    var defaults = {\n        publishEvents: device.options.publishEvents,\n        debug: device.options.debug,\n        encrypt: device.options.encrypt,\n        warnings: device.options.warnings\n    };\n\n    options = options || {};\n    for (var prop in defaults) {\n        if (prop in options) continue;\n        options[prop] = defaults[prop];\n    }\n\n    var connection = device.options[\"connectionFactory\"](device, params, options);\n\n    connection.once(\"accept\", function() {\n        device._status = \"busy\";\n        device.emit(\"connect\", connection);\n    });\n    connection.addListener(\"error\", function(error) {\n        device.emit(\"error\", error);\n        // Only drop connection from device if it's pending\n        if (connection.status() != \"pending\" || connection.status() != \"connecting\") return;\n        device._removeConnection(connection);\n    });\n    connection.once(\"cancel\", function() {\n        device.log(\"Canceled: \" + connection.parameters[\"CallSid\"]);\n        device._removeConnection(connection);\n        device.emit(\"cancel\", connection);\n    });\n    connection.once(\"disconnect\", function() {\n        if (device._status == \"busy\") device._status = \"ready\";\n        device.emit(\"disconnect\", connection);\n        device._removeConnection(connection);\n    });\n    connection.once(\"reject\", function() {\n        device.log(\"Rejected: \" + connection.parameters[\"CallSid\"]);\n        device._removeConnection(connection);\n    });\n\n    return connection;\n}\n\n/**\n * @return {string}\n */\nDevice.toString = function() {\n    return \"[Twilio.Device class]\";\n};\n\n    /**\n     * @return {string}\n     */\nDevice.prototype.toString = function() {\n        return \"[Twilio.Device instance]\";\n};\nDevice.prototype.register = function(token) {\n        var objectized = twutil.objectize(token);\n        this._accountSid = objectized.iss;\n        this._clientName = objectized.scope[\"client:incoming\"]\n          ? objectized.scope[\"client:incoming\"].params.clientName : null;\n\n        if (this.stream && this.stream.status != \"disconnected\") {\n            this.stream.setToken(token);\n        } else {\n            this._setupStream();\n        }\n};\nDevice.prototype.registerPresence = function() {\n        if (!this.token) {\n            return;\n        }\n\n        // check token, if incoming capable then set mediaPresence capability to true\n        var tokenIncomingObject = twutil.objectize(this.token).scope[\"client:incoming\"];\n        if (tokenIncomingObject) {\n            this.mediaPresence.audio = true;\n        }\n\n        this._sendPresence();\n};\nDevice.prototype.unregisterPresence = function() {\n        this.mediaPresence.audio = false;\n        this._sendPresence();\n};\nDevice.prototype.connect = function(params, audioConstraints) {\n        if (typeof params == \"function\") {\n            return this.addListener(\"connect\", params);\n        }\n        params = params || {};\n        audioConstraints = audioConstraints || this.options.audioConstraints;\n        var connection = makeConnection(this, params);\n        this.connections.push(connection);\n        if (this.sounds.outgoing()) {\n            var self = this;\n            connection.accept(function() {\n                self.soundcache.play(\"outgoing\");\n            });\n        }\n        connection.accept(audioConstraints);\n        return connection;\n};\nDevice.prototype.disconnectAll = function() {\n        // Create a copy of connections before iterating, because disconnect\n        // will trigger callbacks which modify the connections list. At the end\n        // of the iteration, this.connections should be an empty list.\n        var connections = [].concat(this.connections);\n        for (var i = 0; i < connections.length; i++) {\n            connections[i].disconnect();\n        }\n        if (this.connections.length > 0) {\n            this.log(\"Connections left pending: \" + this.connections.length);\n        }\n};\nDevice.prototype.destroy = function() {\n        this._stopRegistrationTimer();\n        if (this.stream) {\n            this.stream.destroy();\n            this.stream = null;\n        }\n};\nDevice.prototype.disconnect = function(handler) {\n        this.addListener(\"disconnect\", handler);\n};\nDevice.prototype.incoming = function(handler) {\n        this.addListener(\"incoming\", handler);\n};\nDevice.prototype.offline = function(handler) {\n        this.addListener(\"offline\", handler);\n};\nDevice.prototype.ready = function(handler) {\n        this.addListener(\"ready\", handler);\n};\nDevice.prototype.error = function(handler) {\n        this.addListener(\"error\", handler);\n};\nDevice.prototype.status = function() {\n        return this._status;\n};\nDevice.prototype.activeConnection = function() {\n        // TODO: fix later, for now just pass back first connection\n        return this.connections[0];\n};\nDevice.prototype.region = function() {\n        return this._region;\n};\nDevice.prototype._sendPresence = function() {\n        this.stream.register(this.mediaPresence);\n        if (this.mediaPresence.audio) {\n            this._startRegistrationTimer();\n        } else {\n            this._stopRegistrationTimer();\n        }\n};\nDevice.prototype._startRegistrationTimer = function() {\n        clearTimeout(this.regTimer);\n        var self = this;\n        this.regTimer = setTimeout( function() {\n            self._sendPresence();\n        },REG_INTERVAL);\n};\nDevice.prototype._stopRegistrationTimer = function() {\n        clearTimeout(this.regTimer);\n};\nDevice.prototype._setupStream = function() {\n        var device = this;\n        this.log(\"Setting up PStream\");\n        var streamOptions = {\n            chunderw: this.options[\"chunderw\"],\n            debug: this.options[\"debug\"],\n            secureSignaling: this.options[\"secureSignaling\"]\n        };\n        this.stream = this.options[\"pStreamFactory\"](this.token, streamOptions);\n        this.stream.addListener(\"connected\", function(payload) {\n            var regions = {\n                'US_EAST_VIRGINIA': 'us1',\n                'US_WEST_OREGON': 'us2',\n                'ASIAPAC_SYDNEY': 'au1',\n                'SOUTH_AMERICA_SAO_PAULO': 'br1',\n                'EU_IRELAND': 'ie1',\n                'ASIAPAC_TOKYO': 'jp1',\n                'ASIAPAC_SINGAPORE': 'sg1'\n            };\n            device._region = regions[payload[\"region\"]] || payload[\"region\"];\n            device._sendPresence();\n        });\n        this.stream.addListener(\"ready\", function() {\n            device.log(\"Stream is ready\");\n            if (device._status == \"offline\") device._status = \"ready\";\n            device.emit(\"ready\", device);\n        });\n        this.stream.addListener(\"offline\", function() {\n            device.log(\"Stream is offline\");\n            device._status = \"offline\";\n            device._region = \"offline\";\n            device.emit(\"offline\", device);\n        });\n        this.stream.addListener(\"error\", function(payload) {\n            var error = payload.error;\n            if (error) {\n                if (payload.callsid) {\n                    error.connection = device._findConnection(payload.callsid);\n                }\n                // Stop trying to register presence after token expires\n                if (error.code === 31205) {\n                    device._stopRegistrationTimer();\n                }\n                device.log(\"Received error: \",error);\n                device.emit(\"error\", error);\n            }\n        });\n        this.stream.addListener(\"invite\", function(payload) {\n            if (device._status == \"busy\") {\n                device.log(\"Device busy; ignoring incoming invite\");\n                return;\n            }\n\n            if (!payload[\"callsid\"] || !payload[\"sdp\"]) {\n                device.emit(\"error\", { message: \"Malformed invite from gateway\" });\n                return;\n            }\n\n            var params = payload.parameters || { };\n            params.CallSid = params.CallSid || payload.callsid;\n\n            var connection = makeConnection(device, {}, {\n              offerSdp: payload.sdp,\n              callParameters: params\n            });\n\n            device.connections.push(connection);\n            device.emit(\"incoming\", connection);\n        });\n};\nDevice.prototype._removeConnection = function(connection) {\n        for (var i = this.connections.length - 1; i >= 0; i--) {\n            if (connection == this.connections[i]) {\n                this.connections.splice(i, 1);\n            }\n        }\n};\nDevice.prototype._findConnection = function(callsid) {\n        for (var i = 0; i < this.connections.length; i++) {\n            var conn = this.connections[i];\n            if (conn.parameters.CallSid == callsid || conn.outboundConnectionId == callsid) {\n                return conn;\n            }\n        }\n};\n\nfunction singletonwrapper(cls) {\n    var afterSetup = [];\n    var tasks = [];\n    var queue = function(task) {\n        if (cls.instance) return task();\n        tasks.push(task);\n    };\n    var defaultErrorHandler = function(error) {\n        var err_msg = (error.code ? error.code + \": \" : \"\") + error.message;\n        if (cls.instance) {\n            // The defaultErrorHandler throws an Exception iff there are no\n            // other error handlers registered on a Device instance. To check\n            // this, we need to count up the number of error handlers\n            // registered, excluding our own defaultErrorHandler.\n            var n = 0;\n            var listeners = cls.instance.listeners('error');\n            for (var i = 0; i < listeners.length; i++) {\n                if (listeners[i] !== defaultErrorHandler) {\n                    n++;\n                }\n            }\n            // Note that there is always one default, noop error handler on\n            // each of our EventEmitters.\n            if (n > 1) {\n                return;\n            }\n            cls.instance.log(err_msg);\n        }\n        throw new twutil.Exception(err_msg);\n    };\n    var members = /** @lends Twilio.Device */ {\n        /**\n         * Instance of Twilio.Device.\n         *\n         * @type Twilio.Device\n         */\n        instance: null,\n        /**\n         * @param {string} token\n         * @param {object} [options]\n         * @return {Twilio.Device}\n         */\n        setup: function(token, options) {\n            if (cls.instance) {\n                cls.instance.log(\"Found existing Device; using new token but ignoring options\");\n                cls.instance.token = token;\n                cls.instance.register(token);\n            } else {\n                cls.instance = new Device(token, options);\n                cls.error(defaultErrorHandler);\n                cls.sounds = cls.instance.sounds;\n                for (var i = 0; i < tasks.length; i++) {\n                    tasks[i]();\n                }\n                tasks = [];\n            }\n            for (var i = 0; i < afterSetup.length; i++) {\n                afterSetup[i](token, options);\n            }\n            afterSetup = [];\n            return cls;\n        },\n\n        /**\n         * Connects to Twilio.\n         *\n         * @param {object} parameters\n         * @return {Twilio.Connection}\n         */\n        connect: function(parameters, audioConstraints) {\n            if (typeof parameters == \"function\") {\n                queue(function() {\n                    cls.instance.addListener(\"connect\", parameters);\n                });\n                return;\n            }\n            if (!cls.instance) {\n                throw new twutil.Exception(\"Run Twilio.Device.setup()\");\n            }\n            if (cls.instance.connections.length > 0) {\n                cls.instance.emit(\"error\",\n                    { message: \"A connection is currently active\" });\n                return;\n            }\n            return cls.instance.connect(parameters, audioConstraints);\n        },\n\n        /**\n         * @return {Twilio.Device}\n         */\n        disconnectAll: function() {\n            queue(function() {\n                cls.instance.disconnectAll();\n            });\n            return cls;\n        },\n        /**\n         * @param {function} handler\n         * @return {Twilio.Device}\n         */\n        disconnect: function(handler) {\n            queue(function() {\n                cls.instance.addListener(\"disconnect\", handler);\n            });\n            return cls;\n        },\n        status: function() {\n            if (!cls.instance) {\n                throw new twutil.Exception(\"Run Twilio.Device.setup()\");\n            }\n            return cls.instance.status();\n        },\n        region: function() {\n            if (!cls.instance) {\n                throw new twutil.Exception(\"Run Twilio.Device.setup()\");\n            }\n            return cls.instance.region();\n        },\n        /**\n         * @param {function} handler\n         * @return {Twilio.Device}\n         */\n        ready: function(handler) {\n            queue(function() {\n                cls.instance.addListener(\"ready\", handler);\n            });\n            return cls;\n        },\n\n        /**\n         * @param {function} handler\n         * @return {Twilio.Device}\n         */\n        error: function(handler) {\n            queue(function() {\n                if (handler != defaultErrorHandler) {\n                    cls.instance.removeListener(\"error\", defaultErrorHandler);\n                }\n                cls.instance.addListener(\"error\", handler);\n            });\n            return cls;\n        },\n\n        /**\n         * @param {function} handler\n         * @return {Twilio.Device}\n         */\n        offline: function(handler) {\n            queue(function() {\n                cls.instance.addListener(\"offline\", handler);\n            });\n            return cls;\n        },\n\n        /**\n         * @param {function} handler\n         * @return {Twilio.Device}\n         */\n        incoming: function(handler) {\n            queue(function() {\n                cls.instance.addListener(\"incoming\", handler);\n            });\n            return cls;\n        },\n\n        /**\n         * @return {Twilio.Device}\n         */\n        destroy: function() {\n            if (cls.instance) cls.instance.destroy();\n            return cls;\n        },\n\n        /**\n         * @return {Twilio.Device}\n         */\n        cancel: function(handler) {\n            queue(function() {\n                cls.instance.addListener(\"cancel\", handler);\n            });\n            return cls;\n        },\n\n        activeConnection: function() {\n            if (!cls.instance) {\n                return null;\n            }\n            return cls.instance.activeConnection();\n        }\n    };\n\n    for (var method in members) {\n        cls[method] = members[method];\n    }\n\n    return cls;\n}\n\nDevice = singletonwrapper(Device);\n\nexports.Device = Device;\n\n},{\"./connection\":3,\"./log\":7,\"./options\":8,\"./pstream\":9,\"./rtc\":11,\"./sound\":16,\"./soundcache\":17,\"./util\":19,\"events\":21,\"util\":37}],5:[function(require,module,exports){\n'use strict';\n\nvar request = require('./request');\n\n/**\n * Builds Endpoint Analytics (EA) event payloads and sends them to\n *   the EA server.\n * @constructor\n * @param {String} productName - Name of the product publishing events.\n * @param {String} token - The JWT token to use to authenticate with\n *   the EA server.\n * @param {EventPublisher.Options} options\n * @property {Boolean} isEnabled - Whether or not this publisher is publishing\n *   to the server. Currently ignores the request altogether, in the future this\n *   may store them in case publishing is re-enabled later. Defaults to true.\n *//**\n * @typedef {Object} EventPublisher.Options\n * @property {String} [host='eventgw.twilio.com'] - The host address of the EA\n *   server to publish to.\n * @property {Object|Function} [defaultPayload] - A default payload to extend\n *   when creating and sending event payloads. Also takes a function that\n *   should return an object representing the default payload. This is\n *   useful for fields that should always be present when they are\n *   available, but are not always available.\n */\nfunction EventPublisher(productName, token, options) {\n  if (!(this instanceof EventPublisher)) {\n    return new EventPublisher(productName, token, options);\n  }\n\n  // Apply default options\n  options = Object.assign({\n    defaultPayload: function() { return { }; },\n    host: 'eventgw.twilio.com'\n  }, options);\n\n  var defaultPayload = options.defaultPayload;\n\n  if (typeof defaultPayload !== 'function') {\n    defaultPayload = function() { return Object.assign({ }, options.defaultPayload); }\n  }\n\n  var isEnabled = true;\n  Object.defineProperties(this, {\n    _defaultPayload: { value: defaultPayload },\n    _isEnabled: {\n      get: function() { return isEnabled; },\n      set: function(_isEnabled) { isEnabled = _isEnabled; }\n    },\n    _host: { value: options.host },\n    isEnabled: {\n      enumerable: true,\n      get: function() { return isEnabled },\n    },\n    productName: { enumerable: true, value: productName },\n    token: { enumerable: true, value: token }\n  });\n}\n\n/**\n * Post to an EA server.\n * @private\n * @param {String} endpointName - Endpoint to post the event to\n * @param {String} level - ['debug', 'info', 'warning', 'error']\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {?Object} [payload=null] - The payload to pass. This will be extended\n *    onto the default payload object, if one exists.\n * @param {?Boolean} [force=false] - Whether or not to send this even if\n *    publishing is disabled.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype._post = function _post(endpointName, level, group, name, payload, force) {\n  if (!this.isEnabled && !force) { return Promise.resolve(); }\n\n  var event = {\n    publisher: this.productName,\n    group: group,\n    name: name,\n    timestamp: (new Date()).toISOString(),\n    level: level.toUpperCase(),\n    payload_type: 'application/json',\n    private: false,\n    payload: (payload && payload.forEach) ?\n      payload.slice(0) : Object.assign(this._defaultPayload(), payload)\n  };\n\n  var requestParams = {\n    url: 'https://' + this._host + '/v2/' + endpointName,\n    body: event,\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Twilio-Token': this.token\n    }\n  };\n\n  return new Promise(function(resolve, reject) {\n    request.post(requestParams, function(err) {\n      if (err) { reject(err); }\n      else { resolve(); }\n    });\n  });\n};\n\n/**\n * Post an event to the EA server. Use this method when the level\n *  is dynamic. Otherwise, it's better practice to use the sugar\n *  methods named for the specific level.\n * @param {String} level - ['debug', 'info', 'warning', 'error']\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {?Object} [payload=null] - The payload to pass. This will be extended\n *    onto the default payload object, if one exists.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype.post = function post(level, group, name, payload, force) {\n  return this._post('EndpointEvents', level, group, name, payload, force);\n};\n\n/**\n * Post a debug-level event to the EA server.\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {?Object} [payload=null] - The payload to pass. This will be extended\n *    onto the default payload object, if one exists.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype.debug = function debug(group, name, payload) {\n  return this.post('debug', group, name, payload);\n};\n\n/**\n * Post an info-level event to the EA server.\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {?Object} [payload=null] - The payload to pass. This will be extended\n *    onto the default payload object, if one exists.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype.info = function info(group, name, payload) {\n  return this.post('info', group, name, payload);\n};\n\n/**\n * Post a warning-level event to the EA server.\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {?Object} [payload=null] - The payload to pass. This will be extended\n *    onto the default payload object, if one exists.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype.warn = function warn(group, name, payload) {\n  return this.post('warning', group, name, payload);\n};\n\n/**\n * Post an error-level event to the EA server.\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {?Object} [payload=null] - The payload to pass. This will be extended\n *    onto the default payload object, if one exists.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype.error = function error(group, name, payload) {\n  return this.post('error', group, name, payload);\n};\n\n/**\n * Post a metrics event to the EA server.\n * @param {String} group - The name of the group the event belongs to.\n * @param {String} name - The designated event name.\n * @param {Array<Object>} metrics - The metrics to post.\n * @param {?Object} [customFields] - Custom fields to append to each payload.\n * @returns {Promise} Fulfilled if the HTTP response is 20x.\n */\nEventPublisher.prototype.postMetrics = function postMetrics(group, name, metrics, customFields) {\n  var samples = metrics\n    .map(formatMetric)\n    .map(function(sample) {\n      return Object.assign(sample, customFields);\n    });\n  return this._post('EndpointMetrics', 'info', group, name, samples);\n};\n\n/**\n * Enable the publishing of events.\n */\nEventPublisher.prototype.enable = function enable() {\n  this._isEnabled = true;\n};\n\n/**\n * Disable the publishing of events.\n */\nEventPublisher.prototype.disable = function disable() {\n  this._isEnabled = false;\n};\n\nfunction formatMetric(sample) {\n  return {\n    timestamp: (new Date(sample.timestamp)).toISOString(),\n    total_packets_received: sample.totals.packetsReceived,\n    total_packets_lost: sample.totals.packetsLost,\n    total_packets_sent: sample.totals.packetsSent,\n    total_bytes_received: sample.totals.bytesReceived,\n    total_bytes_sent: sample.totals.bytesSent,\n    packets_received: sample.packetsReceived,\n    packets_lost: sample.packetsLost,\n    packets_lost_fraction: sample.packetsLostFraction &&\n      (Math.round(sample.packetsLostFraction * 100) / 100),\n    audio_level_in: sample.audioInputLevel,\n    audio_level_out: sample.audioOutputLevel,\n    codec_name: sample.codecName,\n    local_candidate_address: sample.candidatePair.localAddress,\n    local_candidate_id: sample.candidatePair.localCandidateId,\n    local_candidate_type: sample.candidatePair.localCandidateType,\n    remote_candidate_address: sample.candidatePair.remoteAddress,\n    remote_candidate_id: sample.candidatePair.remoteCandidateId,\n    remote_candidate_type: sample.candidatePair.remoteCandidateType,\n    candidate_transport_type: sample.candidatePair.transportType,\n    jitter: sample.jitter,\n    rtt: sample.rtt,\n    mos: sample.mos && (Math.round(sample.mos * 100) / 100)\n  };\n}\n\nmodule.exports = EventPublisher;\n\n},{\"./request\":10}],6:[function(require,module,exports){\n/**\n * Heartbeat just wants you to call <code>beat()</code> every once in a while.\n *\n * <p>It initializes a countdown timer that expects a call to\n * <code>Hearbeat#beat</code> every n seconds. If <code>beat()</code> hasn't\n * been called for <code>#interval</code> seconds, it emits a\n * <code>onsleep</code> event and waits. The next call to <code>beat()</code>\n * emits <code>onwakeup</code> and initializes a new timer.</p>\n *\n * <p>For example:</p>\n *\n * @example\n *\n *     >>> hb = new Heartbeat({\n *     ...   interval: 10,\n *     ...   onsleep: function() { console.log('Gone to sleep...Zzz...'); },\n *     ...   onwakeup: function() { console.log('Awake already!'); },\n *     ... });\n *\n *     >>> hb.beat(); # then wait 10 seconds\n *     Gone to sleep...Zzz...\n *     >>> hb.beat();\n *     Awake already!\n *\n * @exports Heartbeat as Twilio.Heartbeat\n * @memberOf Twilio\n * @constructor\n * @param {object} opts Options for Heartbeat\n * @config {int} [interval=10] Seconds between each call to <code>beat</code>\n * @config {function} [onsleep] Callback for sleep events\n * @config {function} [onwakeup] Callback for wakeup events\n */\nfunction Heartbeat(opts) {\n    if (!(this instanceof Heartbeat)) return new Heartbeat(opts);\n    opts = opts || {};\n    /** @ignore */\n    var noop = function() { };\n    var defaults = {\n        interval: 10,\n        now: function() { return new Date().getTime() },\n        repeat: function(f, t) { return setInterval(f, t) },\n        stop: function(f, t) { return clearInterval(f, t) },\n        onsleep: noop,\n        onwakeup: noop\n    };\n    for (var prop in defaults) {\n        if (prop in opts) continue;\n        opts[prop] = defaults[prop];\n    }\n    /**\n     * Number of seconds with no beat before sleeping.\n     * @type number\n     */\n    this.interval = opts.interval;\n    this.lastbeat = 0;\n    this.pintvl = null;\n\n    /**\n     * Invoked when this object has not received a call to <code>#beat</code>\n     * for an elapsed period of time greater than <code>#interval</code>\n     * seconds.\n     *\n     * @event\n     */\n    this.onsleep = opts.onsleep;\n\n    /**\n     * Invoked when this object is sleeping and receives a call to\n     * <code>#beat</code>.\n     *\n     * @event\n     */\n    this.onwakeup = opts.onwakeup;\n\n    this.repeat = opts.repeat;\n    this.stop = opts.stop;\n    this.now = opts.now;\n}\n\n/**\n * @return {string}\n */\nHeartbeat.toString = function() {\n    return \"[Twilio.Heartbeat class]\";\n};\n\n    /**\n     * @return {string}\n     */\nHeartbeat.prototype.toString = function() {\n        return \"[Twilio.Heartbeat instance]\";\n};\n    /**\n     * Keeps the instance awake (by resetting the count down); or if asleep,\n     * wakes it up.\n     */\nHeartbeat.prototype.beat = function() {\n        this.lastbeat = this.now();\n        if (this.sleeping()) {\n            if (this.onwakeup) {\n                this.onwakeup();\n            }\n            var self = this;\n            this.pintvl = this.repeat.call(\n                null,\n                function() { self.check() },\n                this.interval * 1000\n            );\n        }\n};\n    /**\n     * Goes into a sleep state if the time between now and the last heartbeat\n     * is greater than or equal to the specified <code>interval</code>.\n     */\nHeartbeat.prototype.check = function() {\n        var timeidle = this.now() - this.lastbeat;\n        if (!this.sleeping() && timeidle >= this.interval * 1000) {\n            if (this.onsleep) {\n                this.onsleep();\n            }\n            this.stop.call(null, this.pintvl);\n\n            this.pintvl = null;\n        }\n};\n    /**\n     * @return {boolean} True if sleeping\n     */\nHeartbeat.prototype.sleeping = function() {\n        return this.pintvl == null;\n};\nexports.Heartbeat = Heartbeat;\n\n},{}],7:[function(require,module,exports){\n/**\n * Bestow logging powers.\n *\n * @exports mixinLog as Twilio.mixinLog\n * @memberOf Twilio\n *\n * @param {object} object The object to bestow logging powers to\n * @param {string} [prefix] Prefix log messages with this\n *\n * @return {object} Return the object passed in\n */\nfunction mixinLog(object, prefix) {\n    /**\n     * Logs a message or object.\n     *\n     * <p>There are a few options available for the log mixin. Imagine an object\n     * <code>foo</code> with this function mixed in:</p>\n     *\n     * <pre><code>var foo = {};\n     * Twilio.mixinLog(foo);\n     *\n     * </code></pre>\n     *\n     * <p>To enable or disable the log: <code>foo.log.enabled = true</code></p>\n     *\n     * <p>To modify the prefix: <code>foo.log.prefix = \"Hello\"</code></p>\n     *\n     * <p>To use a custom callback instead of <code>console.log</code>:\n     * <code>foo.log.handler = function() { ... };</code></p>\n     *\n     * @param *args Messages or objects to be logged\n     */\n    function log() {\n        if (!log.enabled) {\n            return;\n        }\n        var format = log.prefix ? log.prefix + \" \" : \"\";\n        for (var i = 0; i < arguments.length; i++) {\n            var arg = arguments[i];\n            log.handler(\n                typeof arg == \"string\"\n                ? format + arg\n                : arg\n            );\n        }\n    };\n\n    function defaultWarnHandler(x) {\n      if (typeof console !== 'undefined') {\n        if (typeof console.warn === 'function') {\n          console.warn(x);\n        } else if (typeof console.log === 'function') {\n          console.log(x);\n        }\n      }\n    }\n\n    function deprecated() {\n        if (!log.warnings) {\n            return;\n        }\n        for (var i = 0; i < arguments.length; i++) {\n            var arg = arguments[i];\n            log.warnHandler(arg);\n        }\n    };\n\n    log.enabled = true;\n    log.prefix = prefix || \"\";\n    /** @ignore */\n    log.defaultHandler = function(x) { typeof console !== 'undefined' && console.log(x); };\n    log.handler = log.defaultHandler;\n    log.warnings = true;\n    log.defaultWarnHandler = defaultWarnHandler;\n    log.warnHandler = log.defaultWarnHandler;\n    log.deprecated = deprecated;\n\n    object.log = log;\n}\nexports.mixinLog = mixinLog;\n\n},{}],8:[function(require,module,exports){\nvar Options = (function() {\n    function Options(defaults, assignments) {\n        if (!(this instanceof Options)) {\n            return new Options(defaults);\n        }\n        this.__dict__ = {};\n        defaults = defaults || {};\n        assignments = assignments || {};\n        for (var name in defaults) {\n            this[name] = makeprop(this.__dict__, name);\n            this[name](defaults[name]);\n        }\n        for (var name in assignments) {\n            this[name](assignments[name]);\n        }\n    }\n\n    function makeprop(__dict__, name) {\n        return function(value) {\n            return typeof value == \"undefined\"\n                ? __dict__[name]\n                : __dict__[name] = value;\n        };\n    }\n    return Options;\n})();\n\nexports.Options = Options;\n\n},{}],9:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('util');\nvar log = require(\"./log\");\nvar twutil = require(\"./util\");\nvar rtc = require(\"./rtc\");\n\nvar Heartbeat = require(\"./heartbeat\").Heartbeat;\nvar WSTransport = require('./wstransport').WSTransport;\n\n/**\n * Constructor for PStream objects.\n *\n * @exports PStream as Twilio.PStream\n * @memberOf Twilio\n * @borrows EventEmitter#addListener as #addListener\n * @borrows EventEmitter#removeListener as #removeListener\n * @borrows EventEmitter#emit as #emit\n * @borrows EventEmitter#hasListener as #hasListener\n * @constructor\n * @param {string} token The Twilio capabilities JWT\n * @param {object} [options]\n * @config {boolean} [options.debug=false] Enable debugging\n */\nfunction PStream(token, options) {\n    if (!(this instanceof PStream)) {\n        return new PStream(token, options);\n    }\n    twutil.monitorEventEmitter('Twilio.PStream', this);\n    var defaults = {\n        logPrefix: \"[PStream]\",\n        chunderw: \"chunderw-vpc-gll.twilio.com\",\n        secureSignaling: true,\n        transportFactory: WSTransport,\n        debug: false\n    };\n    options = options || {};\n    for (var prop in defaults) {\n        if (prop in options) continue;\n        options[prop] = defaults[prop];\n    }\n    this.options = options;\n    this.token = token || \"\";\n    this.status = \"disconnected\";\n    this.host = this.options[\"chunderw\"];\n    this.gateway = null;\n    this.region = null;\n\n    log.mixinLog(this, this.options[\"logPrefix\"]);\n    this.log.enabled = this.options[\"debug\"];\n\n    // NOTE(mroberts): EventEmitter requires that we catch all errors.\n    this.on('error', function(){});\n\n    /*\n    *events used by device\n    *\"invite\",\n    *\"ready\",\n    *\"error\",\n    *\"offline\",\n    *\n    *\"cancel\",\n    *\"presence\",\n    *\"roster\",\n    *\"answer\",\n    *\"candidate\",\n    *\"hangup\"\n    */\n\n    var self = this;\n\n    this.addListener(\"ready\", function() {\n        self.status = \"ready\";\n    });\n    this.addListener(\"offline\", function() {\n        self.status = \"offline\";\n    });\n    this.addListener(\"close\", function() {\n        self.destroy();\n    });\n\n    var opt = {\n        host: this.host,\n        debug: this.options[\"debug\"],\n        secureSignaling: this.options[\"secureSignaling\"]\n    };\n    this.transport = this.options[\"transportFactory\"](opt);\n    this.transport.onopen = function() {\n        self.status = \"connected\";\n        self.setToken(self.token);\n    };\n    this.transport.onclose = function() {\n        if (self.status != \"disconnected\") {\n            if (self.status != \"offline\") {\n                self.emit(\"offline\", self);\n            }\n            self.status = \"disconnected\";\n        }\n    };\n    this.transport.onerror = function(err) {\n        self.emit(\"error\", err);\n    };\n    this.transport.onmessage = function(msg) {\n        var objects = twutil.splitObjects(msg.data);\n        for (var i = 0; i < objects.length; i++) {\n            var obj = JSON.parse(objects[i]);\n            var event_type = obj[\"type\"];\n            var payload = obj[\"payload\"] || {};\n\n            if (payload['gateway']) {\n                self.gateway = payload['gateway'];\n            }\n\n            if (payload['region']) {\n                self.region  = payload['region'];\n            }\n\n            // emit event type and pass the payload\n            self.emit(event_type, payload);\n        }\n    };\n    this.transport.open();\n\n    return this;\n}\n\nutil.inherits(PStream, EventEmitter);\n\n/**\n * @return {string}\n */\nPStream.toString = function() {\n    return \"[Twilio.PStream class]\";\n};\n\nPStream.prototype.toString = function() {\n                  return \"[Twilio.PStream instance]\";\n};\nPStream.prototype.setToken = function(token) {\n                  this.log(\"Setting token and publishing listen\");\n                  this.token = token;\n                  var payload = {\n                      \"token\": token,\n                      \"browserinfo\": twutil.getSystemInfo()\n                  };\n                  this.publish(\"listen\", payload);\n};\nPStream.prototype.register = function(mediaCapabilities) {\n                  var regPayload = {\n                      media: mediaCapabilities\n                  };\n                  this.publish(\"register\", regPayload);\n};\nPStream.prototype.destroy = function() {\n                 this.log(\"Closing PStream\");\n                 this.transport.close();\n                 return this;\n};\nPStream.prototype.publish = function (type, payload) {\n                      var msg = JSON.stringify(\n                              {\n                                \"type\": type,\n                                \"version\": twutil.getPStreamVersion(),\n                                \"payload\": payload\n                              });\n                      this.transport.send(msg);\n};\n\nexports.PStream = PStream;\n\n},{\"./heartbeat\":6,\"./log\":7,\"./rtc\":11,\"./util\":19,\"./wstransport\":20,\"events\":21,\"util\":37}],10:[function(require,module,exports){\n'use strict';\n\nvar XHR = typeof XMLHttpRequest === 'undefined'\n        ? require('xmlhttprequest').XMLHttpRequest\n        /* istanbul ignore next: external dependency */\n        : XMLHttpRequest;\n\nfunction request(method, params, callback) {\n        var options = {};\n        options.xmlHttpRequestFactory = options.xmlHttpRequestFactory || XHR;\n        var xhr = new options.xmlHttpRequestFactory();\n\n        xhr.open(method, params.url, true);\n        xhr.onreadystatechange = function onreadystatechange() {\n          if (xhr.readyState !== 4) { return; }\n\n          if (200 <= xhr.status && xhr.status < 300) {\n            callback(null, xhr.responseText);\n          } else {\n            callback(new Error(xhr.responseText));\n          }\n        };\n\n        for (var headerName in params.headers) {\n          xhr.setRequestHeader(headerName, params.headers[headerName]);\n        }\n\n        xhr.send(JSON.stringify(params.body));\n}\n/**\n * Use XMLHttpRequest to get a network resource.\n * @param {String} method - HTTP Method\n * @param {Object} params - Request parameters\n * @param {String} params.url - URL of the resource\n * @param {Array}  params.headers - An array of headers to pass [{ headerName : headerBody }]\n * @param {Object} params.body - A JSON body to send to the resource\n * @returns {response}\n **/\nvar Request = request;\n\n/**\n * Sugar function for request('GET', params, callback);\n * @param {Object} params - Request parameters\n * @param {Request~get} callback - The callback that handles the response.\n */\nRequest.get = function get(params, callback) {\n    return new this('GET', params, callback);\n};\n\n/**\n * Sugar function for request('POST', params, callback);\n * @param {Object} params - Request parameters\n * @param {Request~post} callback - The callback that handles the response.\n */\nRequest.post = function post(params, callback) {\n    return new this('POST', params, callback);\n};\n\nmodule.exports = Request;\n\n},{\"xmlhttprequest\":39}],11:[function(require,module,exports){\nvar PeerConnection = require('./peerconnection');\n\nfunction enabled(set) {\n  if (typeof set !== 'undefined') {\n    PeerConnection.enabled = set;\n  }\n  return PeerConnection.enabled;\n}\n\nfunction getMediaEngine() {\n   return typeof RTCIceGatherer !== 'undefined' ? 'ORTC' : 'WebRTC';\n}\n\nmodule.exports = {\n  enabled: enabled,\n  getMediaEngine: getMediaEngine,\n  PeerConnection: PeerConnection\n}\n\n},{\"./peerconnection\":14}],12:[function(require,module,exports){\n'use strict';\n\nvar EventEmitter = require('events').EventEmitter;\nvar getStatistics = require('./stats');\nvar inherits = require('util').inherits;\nvar Mos = require('./mos');\n\n// How many samples we use when testing metric thresholds\nvar SAMPLE_COUNT_METRICS = 5;\n\n// How many samples that need to cross the threshold to\n// raise or clear a warning.\nvar SAMPLE_COUNT_CLEAR = 0;\nvar SAMPLE_COUNT_RAISE = 3;\n\nvar SAMPLE_INTERVAL = 1000;\nvar WARNING_TIMEOUT = 5 * 1000;\n\n/**\n * @typedef {Object} RTCMonitor.ThresholdOptions\n * @property {RTCMonitor.ThresholdOption} [audioInputLevel] - Rules to apply to sample.audioInputLevel\n * @property {RTCMonitor.ThresholdOption} [audioOutputLevel] - Rules to apply to sample.audioOutputLevel\n * @property {RTCMonitor.ThresholdOption} [packetsLostFraction] - Rules to apply to sample.packetsLostFraction\n * @property {RTCMonitor.ThresholdOption} [jitter] - Rules to apply to sample.jitter\n * @property {RTCMonitor.ThresholdOption} [rtt] - Rules to apply to sample.rtt\n * @property {RTCMonitor.ThresholdOption} [mos] - Rules to apply to sample.mos\n *//**\n * @typedef {Object} RTCMonitor.ThresholdOption\n * @property {?Number} [min] - Warning will be raised if tracked metric falls below this value.\n * @property {?Number} [max] - Warning will be raised if tracked metric rises above this value.\n * @property {?Number} [maxDuration] - Warning will be raised if tracked metric stays constant for\n *   the specified number of consequent samples.\n */\nvar DEFAULT_THRESHOLDS = {\n  audioInputLevel: { maxDuration: 10 },\n  audioOutputLevel: { maxDuration: 10 },\n  packetsLostFraction: { max: 1 },\n  jitter: { max: 30 },\n  rtt: { max: 400 },\n  mos: { min: 3 }\n};\n\n/**\n * RTCMonitor polls a peerConnection via PeerConnection.getStats\n * and emits warnings when stats cross the specified threshold values.\n * @constructor\n * @param {RTCMonitor.Options} [options] - Config options for RTCMonitor.\n *//**\n * @typedef {Object} RTCMonitor.Options\n * @property {PeerConnection} [peerConnection] - The PeerConnection to monitor.\n * @property {RTCMonitor.ThresholdOptions} [thresholds] - Optional custom threshold values.\n */\nfunction RTCMonitor(options) {\n  if (!(this instanceof RTCMonitor)) {\n    return new RTCMonitor(options);\n  }\n\n  options = options || { };\n  var thresholds = Object.assign({ }, DEFAULT_THRESHOLDS, options.thresholds);\n\n  Object.defineProperties(this, {\n    _activeWarnings: { value: new Map() },\n    _currentStreaks: { value: new Map() },\n    _peerConnection: { value: options.peerConnection, writable: true },\n    _sampleBuffer: { value: [] },\n    _sampleInterval: { value: null, writable: true },\n    _thresholds: { value: thresholds },\n    _warningsEnabled: { value: true, writable: true }\n  });\n\n  if (options.peerConnection) {\n    this.enable();\n  }\n\n  EventEmitter.call(this);\n}\n\ninherits(RTCMonitor, EventEmitter);\n\n/**\n * Create a sample object from a stats object using the previous sample,\n *   if available.\n * @param {Object} stats - Stats retrieved from getStatistics\n * @param {?Object} [previousSample=null] - The previous sample to use to calculate deltas.\n * @returns {Promise<RTCSample>}\n */\nRTCMonitor.createSample = function createSample(stats, previousSample) {\n  var previousPacketsSent = previousSample && previousSample.totals.packetsSent || 0;\n  var previousPacketsReceived = previousSample && previousSample.totals.packetsReceived || 0;\n  var previousPacketsLost = previousSample && previousSample.totals.packetsLost || 0;\n\n  var currentPacketsSent = stats.packetsSent - previousPacketsSent;\n  var currentPacketsReceived = stats.packetsReceived - previousPacketsReceived;\n  var currentPacketsLost = stats.packetsLost - previousPacketsLost;\n  var currentInboundPackets = currentPacketsReceived + currentPacketsLost;\n  var currentPacketsLostFraction = (currentInboundPackets > 0) ?\n    (currentPacketsLost / currentInboundPackets) * 100 : 100;\n\n  var totalInboundPackets = stats.packetsReceived + stats.packetsLost;\n  var totalPacketsLostFraction = (totalInboundPackets > 0) ?\n    (stats.packetsLost / totalInboundPackets) * 100 : 100;\n\n  return {\n    timestamp: stats.timestamp,\n    totals: {\n      packetsReceived: stats.packetsReceived,\n      packetsLost: stats.packetsLost,\n      packetsSent: stats.packetsSent,\n      packetsLostFraction: totalPacketsLostFraction,\n      bytesReceived: stats.bytesReceived,\n      bytesSent: stats.bytesSent\n    },\n    candidatePair: {\n      localAddress: stats.localAddress,\n      localCandidateId: stats.localCandidateId,\n      localCandidateType: stats.localCandidateType,\n      remoteAddress: stats.remoteAddress,\n      remoteCandidateId: stats.remoteCandidateId,\n      remoteCandidateType: stats.remoteCandidateType,\n      transportType: stats.transportType\n    },\n    packetsSent: currentPacketsSent,\n    packetsReceived: currentPacketsReceived,\n    packetsLost: currentPacketsLost,\n    packetsLostFraction: currentPacketsLostFraction,\n    audioInputLevel: stats.audioInputLevel,\n    audioOutputLevel: stats.audioOutputLevel,\n    codecName: stats.codecName,\n    jitter: stats.jitter,\n    rtt: stats.rtt,\n    mos: Mos.calculate(stats, previousSample && currentPacketsLostFraction)\n  };\n};\n\n/**\n * Start sampling RTC statistics for this {@link RTCMonitor}.\n * @param {PeerConnection} [peerConnection] - A PeerConnection to monitor.\n * @throws {Error} Attempted to replace an existing PeerConnection in RTCMonitor.enable\n * @throws {Error} Can not enable RTCMonitor without a PeerConnection\n * @returns {RTCMonitor} This RTCMonitor instance.\n */\nRTCMonitor.prototype.enable = function enable(peerConnection) {\n  if (peerConnection) {\n    if (this._peerConnection && peerConnection !== this._peerConnection) {\n      throw new Error('Attempted to replace an existing PeerConnection in RTCMonitor.enable');\n    }\n\n    this._peerConnection = peerConnection;\n  }\n\n  if (!this._peerConnection) {\n    throw new Error('Can not enable RTCMonitor without a PeerConnection');\n  }\n\n  this._sampleInterval = this._sampleInterval ||\n    setInterval(this._fetchSample.bind(this), SAMPLE_INTERVAL);\n\n  return this;\n};\n\n/**\n * Stop sampling RTC statistics for this {@link RTCMonitor}.\n * @returns {RTCMonitor} This RTCMonitor instance.\n */\nRTCMonitor.prototype.disable = function disable() {\n  clearInterval(this._sampleInterval);\n  this._sampleInterval = null;\n\n  return this;\n};\n\n/**\n * Get stats from the PeerConnection.\n * @returns {Promise<RTCSample>} A universally-formatted version of RTC stats.\n */\nRTCMonitor.prototype.getSample = function getSample() {\n  var pc = this._peerConnection;\n\n  var self = this;\n  return new Promise(function(resolve, reject) {\n    getStatistics(pc, function(error, stats) {\n      if (error) {\n        reject(error);\n      } else {\n        var previousSample = self._sampleBuffer.length &&\n          self._sampleBuffer[self._sampleBuffer.length - 1];\n\n        resolve(RTCMonitor.createSample(stats, previousSample));\n      }\n    });\n  });\n};\n\n/**\n * Get stats from the PeerConnection and add it to our list of samples.\n * @private\n * @returns {Promise<Object>} A universally-formatted version of RTC stats.\n */\nRTCMonitor.prototype._fetchSample = function _fetchSample(sample) {\n  var self = this;\n\n  return this.getSample().then(\n    function addSample(sample) {\n      self._addSample(sample);\n      self._raiseWarnings();\n      self.emit('sample', sample);\n      return sample;\n    },\n    function getSampleFailed(error) {\n      self.disable();\n      self.emit('error', error);\n    }\n  );\n};\n\n/**\n * Add a sample to our sample buffer and remove the oldest if\n *   we are over the limit.\n * @private\n * @param {Object} sample - Sample to add\n */\nRTCMonitor.prototype._addSample = function _addSample(sample) {\n  var samples = this._sampleBuffer;\n  samples.push(sample);\n\n  // We store 1 extra sample so that we always have (current, previous)\n  // available for all {sampleBufferSize} threshold validations.\n  if (samples.length > SAMPLE_COUNT_METRICS) {\n    samples.splice(0, samples.length - SAMPLE_COUNT_METRICS);\n  }\n};\n\n/**\n * Apply our thresholds to our array of RTCStat samples.\n * @private\n */\nRTCMonitor.prototype._raiseWarnings = function _raiseWarnings() {\n  if (!this._warningsEnabled) { return; }\n\n  for (var name in this._thresholds) {\n    this._raiseWarningsForStat(name);\n  }\n};\n\n/**\n * Enable warning functionality.\n * @returns {RTCMonitor}\n */\nRTCMonitor.prototype.enableWarnings = function enableWarnings() {\n  this._warningsEnabled = true;\n  return this;\n};\n\n/**\n * Disable warning functionality.\n * @returns {RTCMonitor}\n */\nRTCMonitor.prototype.disableWarnings = function disableWarnings() {\n  if (this._warningsEnabled) {\n    this._activeWarnings.clear();\n  }\n\n  this._warningsEnabled = false;\n  return this;\n};\n\n/**\n * Apply thresholds for a given stat name to our array of\n *   RTCStat samples and raise or clear any associated warnings.\n * @private\n * @param {String} statName - Name of the stat to compare.\n */\nRTCMonitor.prototype._raiseWarningsForStat = function _raiseWarningsForStat(statName) {\n  var samples = this._sampleBuffer;\n  var limits = this._thresholds[statName];\n\n  var relevantSamples = samples.slice(-SAMPLE_COUNT_METRICS);\n  var values = relevantSamples.map(function(sample) {\n    return sample[statName];\n  });\n\n  // (rrowland) If we have a bad or missing value in the set, we don't\n  // have enough information to throw or clear a warning. Bail out.\n  var containsNull = values.some(function(value) {\n    return typeof value === 'undefined' || value === null;\n  });\n\n  if (containsNull) {\n    return;\n  }\n\n  if (typeof limits.max === 'number') {\n    var count = countHigh(limits.max, values);\n    if (count >= SAMPLE_COUNT_RAISE) {\n      this._raiseWarning(statName, 'max', { values: values });\n    } else if (count <= SAMPLE_COUNT_CLEAR) {\n      this._clearWarning(statName, 'max', { values: values });\n    }\n  }\n\n  if (typeof limits.min === 'number') {\n    var count = countLow(limits.min, values);\n    if (count >= SAMPLE_COUNT_RAISE) {\n      this._raiseWarning(statName, 'min', { values: values });\n    } else if (count <= SAMPLE_COUNT_CLEAR) {\n      this._clearWarning(statName, 'min', { values: values });\n    }\n  }\n\n  if (typeof limits.maxDuration === 'number' && samples.length > 1) {\n    relevantSamples = samples.slice(-2);\n    var prevValue = relevantSamples[0][statName];\n    var curValue = relevantSamples[1][statName];\n\n    var prevStreak = this._currentStreaks.get(statName) || 0;\n    var streak = (prevValue === curValue) ? prevStreak + 1 : 0;\n\n    this._currentStreaks.set(statName, streak);\n\n    if (streak >= limits.maxDuration) {\n      this._raiseWarning(statName, 'maxDuration', { value: streak });\n    } else if (streak === 0) {\n      this._clearWarning(statName, 'maxDuration', { value: prevStreak });\n    }\n  }\n};\n\n/**\n * Count the number of values that cross the min threshold.\n * @private\n * @param {Number} min - The minimum allowable value.\n * @param {Array<Number>} values - The values to iterate over.\n * @returns {Number} The amount of values in which the stat\n *   crossed the threshold.\n */\nfunction countLow(min, values) {\n  return values.reduce(function(lowCount, value) {\n    return lowCount += (value < min) ? 1 : 0;\n  }, 0);\n}\n\n/**\n * Count the number of values that cross the max threshold.\n * @private\n * @param {Number} max - The max allowable value.\n * @param {Array<Number>} values - The values to iterate over.\n * @returns {Number} The amount of values in which the stat\n *   crossed the threshold.\n */\nfunction countHigh(max, values) {\n  return values.reduce(function(highCount, value) {\n    return highCount += (value > max) ? 1 : 0;\n  }, 0);\n}\n\n/**\n * Clear an active warning.\n * @param {String} statName - The name of the stat to clear.\n * @param {String} thresholdName - The name of the threshold to clear\n * @param {?Object} [data] - Any relevant sample data.\n * @private\n */\nRTCMonitor.prototype._clearWarning = function _clearWarning(statName, thresholdName, data) {\n  var warningId = statName + ':' + thresholdName;\n  var activeWarning = this._activeWarnings.get(warningId);\n\n  if (!activeWarning || Date.now() - activeWarning.timeRaised < WARNING_TIMEOUT) { return; }\n  this._activeWarnings.delete(warningId);\n\n  this.emit('warning-cleared', Object.assign({\n    name: statName,\n    threshold: {\n      name: thresholdName,\n      value: this._thresholds[statName][thresholdName]\n    }\n  }, data));\n};\n\n/**\n * Raise a warning and log its raised time.\n * @param {String} statName - The name of the stat to raise.\n * @param {String} thresholdName - The name of the threshold to raise\n * @param {?Object} [data] - Any relevant sample data.\n * @private\n */\nRTCMonitor.prototype._raiseWarning = function _raiseWarning(statName, thresholdName, data) {\n  var warningId = statName + ':' + thresholdName;\n\n  if (this._activeWarnings.has(warningId)) { return; }\n  this._activeWarnings.set(warningId, { timeRaised: Date.now() });\n\n  this.emit('warning', Object.assign({\n    name: statName,\n    threshold: {\n      name: thresholdName,\n      value: this._thresholds[statName][thresholdName]\n    }\n  }, data));\n};\n\nmodule.exports = RTCMonitor;\n\n},{\"./mos\":13,\"./stats\":15,\"events\":21,\"util\":37}],13:[function(require,module,exports){\nvar rfactorConstants = {\n  r0: 94.768,\n  is: 1.42611\n};\n\n/**\n * Calculate the mos score of a stats object\n * It will go through rtt, jitter, packetsLost and packetsReceived\n * @param {object} sample - Sample\n * @return {Number} mos - Calculated MOS\n */\nfunction calcMos(sample, fractionLost) {\n  if (!sample ||\n    typeof sample.rtt !== 'number' ||\n    typeof sample.jitter !== 'number' ||\n    typeof sample.packetsLost !== 'number' ||\n    typeof fractionLost !== 'number') {\n      return null;\n  }\n\n  var rFactor = calculateRFactor(sample.rtt, sample.jitter, fractionLost);\n\n  var mos = 1 + (0.035 * rFactor) + (0.000007 * rFactor) *\n    (rFactor - 60) * (100 - rFactor);\n\n  // Make sure MOS is in range\n  var isValid = (mos >= 1.0 && mos < 4.6);\n  return isValid ? mos : null;\n}\n\nfunction calculateRFactor(rtt, jitter, fractionLost) {\n  var effectiveLatency = rtt + (jitter * 2) + 10;\n  var rFactor = 0;\n\n  switch (true) {\n    case effectiveLatency < 160 :\n      rFactor = rfactorConstants.r0 - (effectiveLatency / 40);\n      break;\n    case effectiveLatency < 1000 :\n      rFactor = rfactorConstants.r0 - ((effectiveLatency - 120) / 10);\n      break;\n    case effectiveLatency >= 1000 :\n      rFactor = rfactorConstants.r0 - ((effectiveLatency) / 100 );\n      break;\n  }\n\n  var multiplier = .01;\n  switch (true) {\n    case fractionLost === -1:\n      multiplier = 0;\n      rFactor = 0;\n      break;\n    case fractionLost <= (rFactor / 2.5):\n      multiplier = 2.5;\n      break;\n    case fractionLost > (rFactor / 2.5) && fractionLost < 100 :\n      multiplier = .25;\n      break;\n  }\n\n  rFactor = rFactor - (fractionLost * multiplier);\n  return rFactor;\n}\n\nmodule.exports = {\n  calculate: calcMos\n};\n\n},{}],14:[function(require,module,exports){\nvar log = require('../log');\nvar ortcAdapter = require('ortc-adapter');\nvar stackTrace = require('stacktrace-js');\nvar StateMachine = require('../statemachine');\nvar util = require('../util');\n\n// Refer to <http://www.w3.org/TR/2015/WD-webrtc-20150210/#rtciceconnectionstate-enum>.\nvar ICE_CONNECTION_STATES = {\n  'new': [\n    'checking',\n    'closed'\n  ],\n  'checking': [\n    'new',\n    'connected',\n    'failed',\n    'closed',\n    // Not in the spec, but Chrome can go to completed.\n    'completed'\n  ],\n  'connected': [\n    'new',\n    'disconnected',\n    'completed',\n    'closed'\n  ],\n  'completed': [\n    'new',\n    'disconnected',\n    'closed',\n    // Not in the spec, but Chrome can go to completed.\n    'completed'\n  ],\n  'failed': [\n    'new',\n    'disconnected',\n    'closed'\n  ],\n  'disconnected': [\n    'connected',\n    'completed',\n    'failed',\n    'closed'\n  ],\n  'closed': []\n};\n\nvar INITIAL_ICE_CONNECTION_STATE = 'new';\n\n// These differ slightly from the normal WebRTC state transitions: since we\n// never expect the \"have-local-pranswer\" or \"have-remote-pranswer\" states, we\n// filter them out.\nvar SIGNALING_STATES = {\n  'stable': [\n    'have-local-offer',\n    'have-remote-offer',\n    'closed'\n  ],\n  'have-local-offer': [\n    'stable',\n    'closed'\n  ],\n  'have-remote-offer': [\n    'stable',\n    'closed'\n  ],\n  'closed': []\n};\n\nvar INITIAL_SIGNALING_STATE = 'stable';\n\nfunction PeerConnection(encrypt, device) {\n    if (!(this instanceof PeerConnection))\n      return new PeerConnection(encrypt, device);\n    var noop = function() { };\n    this.onopen = noop;\n    this.onerror = noop;\n    this.onclose = noop;\n    this.ondisconnect = noop;\n    this.onreconnect = noop;\n    this.onsignalingstatechange = noop;\n    this.oniceconnectionstatechange = noop;\n    this.onicecandidate = noop;\n    this.version = null;\n    this.pstream = device.stream;\n    this.stream = null;\n    this.video = typeof document !== 'undefined' && document.createElement(\"video\");\n    this.video.autoplay = \"autoplay\";\n    this.device = device;\n    this.status = \"connecting\";\n    this.callSid = null;\n    this._dtmfSender = null;\n    this._dtmfSenderUnsupported = false;\n    this._callEvents = [];\n    this._nextTimeToPublish = Date.now();\n    this._onAnswer = noop;\n    log.mixinLog(this, '[Twilio.PeerConnection]');\n    this.log.enabled = this.device.options['debug'];\n    this.log.warnings = this.device.options['warnings'];\n\n    this._iceConnectionStateMachine = new StateMachine(ICE_CONNECTION_STATES,\n      INITIAL_ICE_CONNECTION_STATE);\n    this._signalingStateMachine = new StateMachine(SIGNALING_STATES,\n      INITIAL_SIGNALING_STATE);\n\n    return this;\n}\n\nPeerConnection.prototype.uri = function() {\n    return this._uri;\n};\nPeerConnection.prototype.openHelper = function(next, audioConstraints) {\n    var self = this;\n\n    function onSuccess(stream) {\n        self.stream = stream;\n        next();\n    }\n\n    function onFailure(error) {\n        if (error.code && error.code === error.PERMISSION_DENIED ||\n            error.name && error.name === 'PermissionDeniedError') {\n            next({\n              error: error,\n              message: 'User denied access to microphone, or the web browser did not allow microphone access at this address.',\n              code: 31208\n            });\n        } else {\n            next({\n              error: error,\n              message: 'Error occurred while accessing microphone: ' + error.name + (error.message ? ' (' + error.message + ')' : ''),\n              code: 31201\n            });\n        }\n    }\n\n    PeerConnection.getUserMedia({ audio: audioConstraints }, onSuccess, onFailure);\n};\nPeerConnection.prototype._setupPeerConnection = function(rtcConstraints, iceServers) {\n        var version = PeerConnection.protocol;\n        version.create(this.log, rtcConstraints, iceServers);\n        version.pc.addStream(this.stream);\n        var self = this;\n        version.pc.onaddstream = function(ev) {\n            if (typeof self.video.srcObject !== 'undefined') {\n                self.video.srcObject = ev.stream;\n            }\n            else if (typeof self.video.mozSrcObject !== 'undefined') {\n                self.video.mozSrcObject = ev.stream;\n            }\n            else if (typeof self.video.src !== 'undefined') {\n                var url = window.URL || window.webkitURL;\n                self.video.src = url.createObjectURL(ev.stream);\n            }\n            else {\n                self.log('Error attaching stream to element.');\n            }\n        };\n        return version;\n    };\nPeerConnection.prototype._setupChannel = function() {\n        var self = this;\n        var pc = this.version.pc;\n\n        //Chrome 25 supports onopen\n        self.version.pc.onopen = function() {\n            self.status = \"open\";\n            self.onopen();\n        };\n\n        //Chrome 26 doesn't support onopen so must detect state change\n        self.version.pc.onstatechange = function(stateEvent) {\n            if (self.version.pc && self.version.pc.readyState == \"stable\") {\n                self.status = \"open\";\n                self.onopen();\n            }\n        };\n\n        //Chrome 27 changed onstatechange to onsignalingstatechange\n        self.version.pc.onsignalingstatechange = function(signalingEvent) {\n            var state = pc.signalingState;\n            self.log('signalingState is \"' + state + '\"');\n\n            // Update our internal state machine.\n            try {\n              self._signalingStateMachine.transition(state);\n            } catch (error) { }\n\n            if (self.version.pc && self.version.pc.signalingState == \"stable\") {\n                self.status = \"open\";\n                self.onopen();\n            }\n\n            self.onsignalingstatechange(pc.signalingState);\n        };\n\n        pc.onicecandidate = function onicecandidate(event) {\n            self.onicecandidate(event.candidate);\n        };\n\n        pc.oniceconnectionstatechange = function() {\n            var state = pc.iceConnectionState;\n            // Grab our previous state to help determine cause of state change\n            var previousState = self._iceConnectionStateMachine.currentState;\n\n            // Update our internal state machine.\n            try {\n              self._iceConnectionStateMachine.transition(state);\n            } catch (error) { }\n\n            switch (state) {\n                case 'connected':\n                    if (previousState === 'disconnected') {\n                      var message = 'ICE liveliness check succeeded. Connection with Twilio restored'\n                      self.log(message);\n                      self.onreconnect(message);\n                    }\n                    break;\n                case 'disconnected':\n                    var message = 'ICE liveliness check failed. May be having trouble connecting to Twilio';\n                    self.log(message);\n                    self.ondisconnect(message);\n                    break;\n                case 'failed':\n                    // Takes care of checking->failed and disconnected->failed\n                    var message = (previousState === 'checking'\n                         ? 'ICE negotiation with Twilio failed.'\n                         : 'Connection with Twilio was interrupted.')\n                       + ' Call will terminate.';\n                    \n                    self.log(message);\n                    self.onerror({\n                       info: {\n                          code: 31003,\n                          message: message\n                       },\n                       disconnect: true\n                    });\n                    break;\n                default:\n                    self.log('iceConnectionState is \"' + state + '\"');\n            }\n\n            self.oniceconnectionstatechange(state);\n        };\n    };\nPeerConnection.prototype._initializeMediaStream = function(rtcConstraints, iceServers) {\n        // if mediastream already open then do nothing\n        if (this.status == \"open\") {\n            return false;\n        }\n        if (this.pstream.status == \"disconnected\") {\n            this.onerror({ info: { code: 31000, message: \"Cannot establish connection. Client is disconnected\" } });\n            this.close();\n            return false;\n        }\n        this.version = this._setupPeerConnection(rtcConstraints, iceServers);\n        this._setupChannel();\n        return true;\n};\nPeerConnection.prototype.makeOutgoingCall = function(params, callsid, rtcConstraints, iceServers, onMediaStarted) {\n        if (!this._initializeMediaStream(rtcConstraints, iceServers)) {\n            return;\n        }\n\n        var self = this;\n        this.callSid = callsid;\n        var onAnswerSuccess = function() {\n            onMediaStarted(self.version.pc);\n        };\n        var onAnswerError = function(err) {\n            var errMsg = err.message || err;\n            self.onerror({ info: { code: 31000, message: \"Error processing answer: \" + errMsg } });\n        }\n        this._onAnswer = function(payload) {\n            if (self.status != \"closed\") {\n                self.version.processAnswer(payload.sdp, onAnswerSuccess, onAnswerError);\n            }\n        };\n        this.pstream.once(\"answer\", this._onAnswer);\n\n        var onOfferSuccess = function() {\n            if (self.status != \"closed\") {\n                self.pstream.publish(\"invite\", {\n                    sdp: self.version.getSDP(),\n                    callsid: self.callSid,\n                    twilio: {\n                        params: params\n                    }\n                });\n            }\n        };\n        var onOfferError = function(err) {\n            var errMsg = err.message || err;\n            self.onerror({ info: { code: 31000, message: \"Error creating the offer: \" + errMsg } });\n        };\n        this.version.createOffer({ audio: true }, onOfferSuccess, onOfferError);\n};\nPeerConnection.prototype.answerIncomingCall = function(callSid, sdp, rtcConstraints, iceServers, onMediaStarted) {\n        if (!this._initializeMediaStream(rtcConstraints, iceServers)) {\n            return;\n        }\n        this.callSid = callSid;\n        var self = this;\n        var onAnswerSuccess = function() {\n            if (self.status != \"closed\") {\n                self.pstream.publish(\"answer\", {\n                    callsid: callSid,\n                    sdp: self.version.getSDP()\n                });\n                onMediaStarted(self.version.pc);\n            }\n        };\n        var onAnswerError = function(err) {\n            var errMsg = err.message || err;\n            self.onerror({ info: { code: 31000, message: \"Error creating the answer: \" + errMsg } });\n        };\n        this.version.processSDP(sdp, { audio: true }, onAnswerSuccess, onAnswerError);\n};\nPeerConnection.prototype.close = function() {\n        if (this.version && this.version.pc) {\n            if (this.version.pc.signalingState !== 'closed') {\n                this.version.pc.close();\n            }\n\n            this.version.pc = null;\n        }\n        if (this.stream) {\n            stopStream(this.stream);\n            this.stream = null;\n        }\n        if (this.pstream) {\n            this.pstream.removeListener('answer', this._onAnswer);\n        }\n        this.video.src = \"\";\n        this.status = \"closed\";\n        this.onclose();\n};\nPeerConnection.prototype.reject = function(callSid) {\n        this.callSid = callSid;\n};\nPeerConnection.prototype.ignore = function(callSid) {\n        this.callSid = callSid;\n};\nPeerConnection.prototype.attachAudio = function(callback) {\n        if (this.stream) {\n            var audioTracks = typeof this.stream.getAudioTracks === 'function'\n              ? this.stream.getAudioTracks() : this.stream.audioTracks;\n            audioTracks[0].enabled = true;\n        }\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n};\nPeerConnection.prototype.detachAudio = function(callback) {\n        if (this.stream) {\n            var audioTracks = typeof this.stream.getAudioTracks === 'function'\n              ? this.stream.getAudioTracks() : this.stream.audioTracks;\n            audioTracks[0].enabled = false;\n        }\n        if (callback && typeof callback == \"function\") {\n            callback();\n        }\n};\nPeerConnection.prototype.isAudioAttached = function() {\n        if (this.stream) {\n            var audioTracks = typeof this.stream.getAudioTracks === 'function'\n              ? this.stream.getAudioTracks() : this.stream.audioTracks;\n            return audioTracks[0].enabled;\n        }\n        return false;\n};\n\nPeerConnection.getUserMedia = function getUserMedia(constraints, successCallback, errorCallback) {\n    if (typeof navigator == \"undefined\") return;\n    if (typeof navigator.webkitGetUserMedia == \"function\") {\n        navigator.webkitGetUserMedia(constraints, successCallback, errorCallback);\n    }\n    else if (typeof navigator.mozGetUserMedia == \"function\") {\n        navigator.mozGetUserMedia(constraints, successCallback, errorCallback);\n    }\n    else if (typeof navigator.getUserMedia === 'function') {\n        navigator.getUserMedia(constraints, successCallback, errorCallback);\n    }\n    else {\n        this.log(\"No getUserMedia() implementation available\");\n    }\n};\n\n/**\n * Get or create an RTCDTMFSender for the first local audio MediaStreamTrack\n * we can get from the RTCPeerConnection. Return null if unsupported.\n * @instance\n * @returns ?RTCDTMFSender\n */\nPeerConnection.prototype.getOrCreateDTMFSender =\n  function getOrCreateDTMFSender()\n{\n  if (this._dtmfSender) {\n    return this._dtmfSender;\n  } else if (this._dtmfSenderUnsupported) {\n    return null;\n  }\n\n  var pc = this.version.pc;\n  if (!pc) {\n    this.log('No RTCPeerConnection available to call createDTMFSender on');\n    return null;\n  }\n\n  if (typeof pc.createDTMFSender !== 'function') {\n    this.log('RTCPeerConnection does not support createDTMFSender');\n    this._dtmfSenderUnsupported = true;\n    return null;\n  }\n\n  // Select a local audio MediaStreamTrack.\n  var streams = pc.getLocalStreams();\n  var stream;\n  var tracks;\n  var track;\n  for (var i = 0; i < streams.length; i++) {\n    stream = streams[i];\n    tracks = typeof stream.getAudioTracks === 'function'\n      ? stream.getAudioTracks() : stream.audioTracks;\n    if (tracks.length) {\n      track = tracks[0];\n      break;\n    }\n  }\n  if (!track) {\n    this.log('No local audio MediaStreamTrack available on the ' +\n             'RTCPeerConnection to pass to createDTMFSender');\n    return null;\n  }\n\n  this.log('Creating RTCDTMFSender');\n  var dtmfSender = pc.createDTMFSender(track);\n  this._dtmfSender = dtmfSender;\n  return dtmfSender;\n};\n\nvar RTCPC = function() {\n    if (typeof window == \"undefined\") return;\n    if (typeof window.webkitRTCPeerConnection == \"function\") {\n        this.RTCPeerConnection = webkitRTCPeerConnection;\n    } else if (typeof window.mozRTCPeerConnection == \"function\") {\n        this.RTCPeerConnection = mozRTCPeerConnection;\n        RTCSessionDescription = mozRTCSessionDescription;\n        RTCIceCandidate = mozRTCIceCandidate;\n    // FIXME(mroberts): Use better criteria for identifying Edge/ORTC.\n    } else if (typeof RTCIceGatherer !== 'undefined') {\n        this.RTCPeerConnection = ortcAdapter.RTCPeerConnection;\n        RTCSessionDescription = ortcAdapter.RTCSessionDescription;\n        RTCIceCandidate = ortcAdapter.RTCIceCandidate;\n    } else {\n        this.log(\"No RTCPeerConnection implementation available\");\n    }\n};\n\nRTCPC.prototype.create = function(log, rtcConstraints, iceServers) {\n    this.log = log;\n    this.pc = new this.RTCPeerConnection({ iceServers: iceServers }, rtcConstraints);\n};\nRTCPC.prototype.createModernConstraints = function(c) {\n    // createOffer differs between Chrome 23 and Chrome 24+.\n    // See https://groups.google.com/forum/?fromgroups=#!topic/discuss-webrtc/JBDZtrMumyU\n    // Unfortunately I haven't figured out a way to detect which format\n    // is required ahead of time, so we'll first try the old way, and\n    // if we get an exception, then we'll try the new way.\n    if (typeof c === \"undefined\") {\n        return null;\n    }\n    // NOTE(mroberts): As of Chrome 38, Chrome still appears to expect\n    // constraints under the \"mandatory\" key, and with the first letter of each\n    // constraint capitalized. Firefox, on the other hand, has deprecated the\n    // \"mandatory\" key and does not expect the first letter of each constraint\n    // capitalized.\n    var nc = {};\n    if (typeof webkitRTCPeerConnection !== 'undefined') {\n        nc.mandatory = {};\n        if (typeof c.audio !== \"undefined\") {\n            nc.mandatory.OfferToReceiveAudio = c.audio;\n        }\n        if (typeof c.video !== \"undefined\") {\n            nc.mandatory.OfferToReceiveVideo = c.video;\n        }\n    } else {\n        if (typeof c.audio !== \"undefined\") {\n            nc.offerToReceiveAudio = c.audio;\n        }\n        if (typeof c.video !== \"undefined\") {\n            nc.offerToReceiveVideo = c.video;\n        }\n    }\n    return nc;\n};\nRTCPC.prototype.createOffer = function(constraints, onSuccess, onError) {\n    var self = this;\n\n    var success = function(sd) {\n        if (self.pc) {\n            self.pc.setLocalDescription(new RTCSessionDescription(sd), onSuccess, onError);\n        }\n    }\n    this.pc.createOffer(success, onError, this.createModernConstraints(constraints));\n};\nRTCPC.prototype.createAnswer = function(constraints, onSuccess, onError) {\n    var self = this;\n\n    var success = function(sd) {\n        if (self.pc) {\n            self.pc.setLocalDescription(new RTCSessionDescription(sd), onSuccess, onError);\n        }\n    }\n    this.pc.createAnswer(success, onError, this.createModernConstraints(constraints));\n};\nRTCPC.prototype.processSDP = function(sdp, constraints, onSuccess, onError) {\n    var self = this;\n\n    var success = function() {\n        self.createAnswer(constraints, onSuccess, onError);\n    };\n    this.pc.setRemoteDescription(new RTCSessionDescription({ sdp: sdp, type: \"offer\" }), success, onError);\n};\nRTCPC.prototype.getSDP = function() {\n    return this.pc.localDescription.sdp;\n};\nRTCPC.prototype.processAnswer = function(sdp, onSuccess, onError) {\n    if (!this.pc) {\n        return;\n    }\n    this.pc.setRemoteDescription(\n        new RTCSessionDescription({ sdp: sdp, type: \"answer\" }), onSuccess, onError);\n};\n/* NOTE(mroberts): Firefox 18 through 21 include a `mozRTCPeerConnection`\n   object, but attempting to instantiate it will throw the error\n\n       Error: PeerConnection not enabled (did you set the pref?)\n\n   unless the `media.peerconnection.enabled` pref is enabled. So we need to test\n   if we can actually instantiate `mozRTCPeerConnection`; however, if the user\n   *has* enabled `media.peerconnection.enabled`, we need to perform the same\n   test that we use to detect Firefox 24 and above, namely:\n\n       typeof (new mozRTCPeerConnection()).getLocalStreams === 'function'\n\n */\nRTCPC.test = function() {\n    if (typeof navigator == 'object') {\n        if (navigator.webkitGetUserMedia &&\n            typeof window.webkitRTCPeerConnection == 'function') {\n            return true;\n        } else if (navigator.mozGetUserMedia &&\n                   typeof window.mozRTCPeerConnection == 'function') {\n            try {\n                var test = new window.mozRTCPeerConnection();\n                if (typeof test.getLocalStreams !== 'function')\n                    return false;\n            } catch (e) {\n                return false;\n            }\n            return true;\n        // FIXME(mroberts): Use better criteria for identifying Edge/ORTC.\n        } else if (typeof RTCIceGatherer !== 'undefined') {\n          return true;\n        }\n    }\n};\n\nPeerConnection.protocol = (function() {\n    if (RTCPC.test()) return new RTCPC();\n    else return null;\n})();\n\nPeerConnection.enabled = !!PeerConnection.protocol;\n\nfunction stopStream(stream) {\n  if (typeof MediaStreamTrack.prototype.stop === 'function') {\n    var audioTracks = typeof stream.getAudioTracks === 'function'\n      ? stream.getAudioTracks() : stream.audioTracks;\n    audioTracks.forEach(function(track) {\n      track.stop();\n    });\n  }\n  // NOTE(mroberts): This is just a fallback to any ancient browsers that may\n  // not implement MediaStreamTrack.stop.\n  else {\n    stream.stop();\n  }\n}\n\nmodule.exports = PeerConnection;\n\n},{\"../log\":7,\"../statemachine\":18,\"../util\":19,\"ortc-adapter\":22,\"stacktrace-js\":34}],15:[function(require,module,exports){\n/**\n * Collect any WebRTC statistics for the given {@link PeerConnection} and pass\n * them to an error-first callback.\n * @param {PeerConnection} peerConnection - The {@link PeerConnection}\n * @param {function} callback - The callback\n */\nfunction getStatistics(peerConnection, callback) {\n  var error = new Error('WebRTC statistics are unsupported');\n  if (!peerConnection) {\n    callback(new Error('PeerConnection is null'));\n  } else if (typeof navigator === 'undefined' || typeof peerConnection.getStats !== 'function') {\n    callback(error);\n  } else if (navigator.webkitGetUserMedia) {\n    peerConnection.getStats(chainCallback(withStats, callback), callback);\n  } else if (navigator.mozGetUserMedia) {\n    peerConnection.getStats(null, chainCallback(mozWithStats, callback), callback);\n  } else {\n    callback(error);\n  }\n}\n\n/**\n * Handle any WebRTC statistics for Google Chrome and pass them to an error-\n * first callback.\n * @param {RTCStatsResponse} response - WebRTC statistics for Google Chrome\n * @param {function} callback - The callback\n */\nfunction withStats(response, callback) {\n  var knownStats = [];\n  var unknownStats = [];\n  var results = response.result();\n  results.forEach(function(report) {\n    var processedReport = null;\n    switch (report.type) {\n      case 'googCandidatePair':\n        processedReport = processCandidatePair(report);\n        break;\n      case 'ssrc':\n        processedReport = processSSRC(report);\n        break;\n      // Unknown\n      default:\n        unknownStats.push(report);\n    }\n    if (processedReport) {\n      knownStats.push(processedReport);\n    }\n  });\n  if (knownStats.length === 0 || (knownStats = filterKnownStats(knownStats)).length === 0) {\n    return callback(null, {});\n  }\n  var mergedStats = knownStats.reduceRight(function(mergedStat, knownStat) {\n    for (var name in knownStat) {\n      mergedStat[name] = knownStat[name];\n    }\n    return mergedStat;\n  }, {});\n  callback(null, mergedStats);\n}\n\nfunction processCandidatePair(report) {\n  var knownStats = {};\n  var unknownStats = {};\n  var names = report.names();\n  var timestamp = report.timestamp ? Number(report.timestamp) : null;\n  for (var i = 0; i < names.length; i++) {\n    var name = names[i];\n    var value = report.stat(name);\n    switch (name) {\n      // If the connection represented by this report is inactive, bail out.\n      case 'googActiveConnection':\n        if (value !== 'true') {\n          return null;\n        }\n        break;\n      // Rename \"goog\"-prefixed stats.\n      case 'googLocalAddress':\n        knownStats['localAddress'] = value;\n        break;\n      case 'googRemoteAddress':\n        knownStats['remoteAddress'] = value;\n        break;\n      case 'googLocalCandidateType':\n        knownStats['localCandidateType'] = value;\n        break;\n      case 'googRemoteCandidateType':\n        knownStats['remoteCandidateType'] = value;\n        break;\n      case 'googTransportType':\n        knownStats['transportType'] = value;\n        break;\n      case 'localCandidateId':\n        knownStats['localCandidateId'] = value;\n        break;\n      case 'remoteCandidateId':\n        knownStats['remoteCandidateId'] = value;\n        break;\n      case 'googRtt':\n        knownStats['rtt'] = Number(value);\n        break;\n      // Ignore empty stat names (annoying, I know).\n      case '':\n        break;\n      // Unknown\n      default:\n        unknownStats[name] = value;\n    }\n  }\n  knownStats.timestamp = timestamp;\n  return packageStats(knownStats, unknownStats);\n}\n\nfunction processSSRC(report) {\n  var knownStats = {};\n  var unknownStats = {};\n  var names = report.names();\n  var timestamp = report.timestamp ? Number(report.timestamp) : null;\n  names.forEach(function(name) {\n    var value = report.stat(name);\n    switch (name) {\n      // Rename \"goog\"-prefixed stats.\n      case 'googCodecName':\n        // Filter out the empty case.\n        var codecName = value;\n        if (codecName !== '') {\n          knownStats['codecName'] = value;\n        }\n        break;\n      case 'googJitterBufferMs':\n        knownStats['googJitterBufferMs'] = Number(value);\n        break;\n      case 'googJitterReceived':\n        // Filter out the -1 case.\n        var jitterReceived = Number(value);\n        if (jitterReceived !== -1) {\n          knownStats['jitter'] = jitterReceived;\n        }\n        break;\n      // Pass these stats through unmodified.\n      case 'bytesReceived':\n      case 'bytesSent':\n      case 'packetsReceived':\n      case 'packetsSent':\n      case 'timestamp':\n      case 'audioInputLevel':\n      case 'audioOutputLevel':\n        knownStats[name] = Number(value);\n        break;\n      case 'packetsLost':\n        // Filter out the -1 case.\n        var packetsLost = Number(value);\n        if (packetsLost !== -1) {\n          knownStats[name] = packetsLost;\n        }\n        break;\n      // Unknown\n      default:\n        unknownStats[name] = value;\n    }\n  });\n  knownStats.timestamp = timestamp;\n  return packageStats(knownStats, unknownStats);\n}\n\n/**\n * Handle any WebRTC statistics for Mozilla Firefox and pass them to an error-\n * first callback.\n * @param {RTCStatsReport} reports - WebRTC statistics for Mozilla Firefox\n * @param {function} callback - The callback\n */\nfunction mozWithStats(reports, callback) {\n  var knownStats = [];\n  var unknownStats = []\n  reports.forEach(function(report) {\n    var processedReport = null;\n    switch (report.type) {\n      case 'inboundrtp':\n        processedReport = processInbound(report);\n        break;\n      case 'outboundrtp':\n        if (report.isRemote === false) {\n          processedReport = processOutbound(report);\n        }\n        break;\n      // Unknown\n      default:\n        unknownStats.push(report);\n    }\n    if (processedReport) {\n      knownStats.push(processedReport);\n    }\n  });\n  if (knownStats.length === 0 || (knownStats = filterKnownStats(knownStats)).length === 0) {\n    return callback(null, {});\n  }\n  var mergedStats = knownStats.reduceRight(function(mergedStat, knownStat) {\n    for (var name in knownStat) {\n      mergedStat[name] = knownStat[name];\n    }\n    return mergedStat;\n  }, {});\n  callback(null, mergedStats);\n}\n\nfunction processOutbound(report) {\n  var knownStats = {};\n  var unknownStats = {};\n  for (var name in report) {\n    var value = report[name];\n    switch (name) {\n      // Convert to UNIX timestamp.\n      case 'timestamp':\n        knownStats.timestamp = value ? Number(value) : null;\n      // Pass these stats through unmodified.\n      case 'bytesSent':\n      case 'packetsSent':\n        knownStats[name] = value;\n        break;\n      // Unknown\n      default:\n        unknownStats[name] = value;\n    }\n  }\n  return packageStats(knownStats, unknownStats);\n}\n\nfunction processInbound(report) {\n  var knownStats = {};\n  var unknownStats = {};\n  for (var name in report) {\n    var value = report[name];\n    switch (name) {\n      // Rename \"moz\"-prefixed stats.\n      case 'mozRtt':\n        knownStats['rtt'] = value;\n        break;\n      // Convert to UNIX timestamp.\n      case 'timestamp':\n        knownStats.timestamp = value ? Number(value) : null;\n        break;\n      // Convert to milliseconds.\n      case 'jitter':\n        knownStats[name] = value * 1000;\n        break;\n      // Pass these stats through unmodified.\n      case 'bytesReceived':\n      case 'packetsLost':\n      case 'packetsReceived':\n        knownStats[name] = value;\n        break;\n      // Unknown\n      default:\n        unknownStats[name] = value;\n    }\n  }\n  return packageStats(knownStats, unknownStats);\n}\n\n/**\n * Given two objects containing known and unknown WebRTC statistics, include\n * each in an object keyed by \"known\" or \"unkown\" if they are non-empty. If\n * both are empty, return null.\n * @param {?object} knownStats - Known WebRTC statistics\n * @param {?object} unknownStats - Unkown WebRTC statistics\n * @returns ?object\n */\nfunction packageStats(knownStats, unknownStats) {\n  var stats = null;\n  if (!empty(knownStats)) {\n    stats = stats || {};\n    stats.known = knownStats;\n  }\n  if (!empty(unknownStats)) {\n    stats = stats || {};\n    stats.unknown = unknownStats;\n  }\n  return stats;\n}\n\n/**\n * Given a list of objects containing known and/or unknown WebRTC statistics,\n * return only the known statistics.\n * @param {Array} stats - A list of objects containing known and/or unknown\n *                        WebRTC statistics\n * @returns Array\n */\nfunction filterKnownStats(stats) {\n  var knownStats = [];\n  for (var i = 0; i < stats.length; i++) {\n    var stat = stats[i];\n    if (stat.known) {\n      knownStats.push(stat.known);\n    }\n  }\n  return knownStats;\n}\n\n/**\n * Check if an object is \"empty\" in the sense that it contains no keys.\n * @param {?object} obj - The object to check\n * @returns boolean\n */\nfunction empty(obj) {\n  if (!obj) {\n    return true;\n  }\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Given a function that takes a callback as its final argument, fix that final\n * argument to the provided callback.\n * @param {function} function - The function\n * @param {function} callback - The callback\n * @returns function\n */\nfunction chainCallback(func, callback) {\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args.push(callback);\n    return func.apply(null, args);\n  };\n}\n\nmodule.exports = getStatistics;\n\n},{}],16:[function(require,module,exports){\nfunction Sound(options) {\n    if (!(this instanceof Sound)) {\n      return new Sound(options);\n    }\n\n    this.id = Sound.nextId++;\n    this.maxDuration = options.maxDuration;\n    Sound.items[this.id] = this;\n    this.create(!!options.loop);\n    return this;\n}\n\nvar audioBackend = {\n    create: function(shouldLoop) {\n        this.audio = document.createElement(\"audio\");\n        this.audio.loop = shouldLoop;\n        this.playing = false;\n\n        var self = this;\n        this.audio.addEventListener('ended', function() {\n          self.playing = false;\n        });\n    },\n    buffer: function() { },\n    play: function() {\n        if (this.playing) { return; }\n        var audio = this.audio;\n        this.rewind();\n\n        var self = this;\n        var maxDuration = this.maxDuration;\n        if (maxDuration && maxDuration < audio.duration * 1000) {\n          setTimeout(function() {\n            audio.pause();\n            self.playing = false;\n          }, maxDuration);\n        }\n\n        this.playing = true;\n        audio.play();\n    },\n    load: function(url) {\n        this.audio.src = url;\n    },\n    stop: function() {\n        this.playing = false;\n        this.audio.pause();\n        this.rewind();\n    },\n    destroy: function() {\n        this.audio.src = \"\";\n        delete this.audio;\n    },\n    rewind: function() {\n      this.audio.currentTime = 0;\n      // HACK Can't rewind. More info: stackoverflow.com/a/11004658\n      if (this.audio.currentTime) {\n        this.audio.load();\n      }\n    }\n};\n\nvar dummyBackend = {\n    create: function() {},\n    buffer: function(bytes) {},\n    play: function() {},\n    load: function(url) {},\n    stop: function() {},\n    destroy: function() {}\n}\n\nif (typeof window === 'undefined') {\n    for (var key in dummyBackend) {\n        Sound.prototype[key] = dummyBackend[key];\n    }\n} else {\n    Sound.prototype =  audioBackend;\n}\n\nSound.nextId = 0;\nSound.debug = false;\nSound.tasks = [];\nSound.items = {};\nexports.Sound = Sound;\n\n},{}],17:[function(require,module,exports){\nfunction not(expr) { return !expr; }\nfunction bind(ctx, fn) {\n    return function() {\n        var args = Array.prototype.slice(arguments);\n        fn.apply(ctx, args);\n    };\n}\n\nfunction SoundCache() {\n    if (not(this instanceof SoundCache)) {\n        return new SoundCache();\n    }\n    this.cache = {};\n}\n\nSoundCache.prototype.add = function(name, sounds, envelope) {\n        envelope = envelope || {};\n        if (not(envelope instanceof Object)) {\n            throw new TypeError(\n              \"Bad envelope type; expected Object\");\n        }\n        if (not(sounds instanceof Array)) {\n            sounds = [sounds];\n        }\n        this.cache[name] = {\n            starttime: null,\n            sounds: sounds,\n            envelope: envelope\n        };\n};\nSoundCache.prototype.play = function(name, position, loop) {\n        position = position || 0;\n        loop = loop || 1;\n        if (not(name in this.cache)) {\n            return;\n        }\n        var voice = this.cache[name];\n        for (var i = 0; i < voice.sounds.length; i++) {\n            voice.sounds[i].play(position, loop);\n        }\n        voice.starttime = new Date().getTime();\n};\nSoundCache.prototype.stop = function(name) {\n        if (not(name in this.cache)) {\n            return;\n        }\n        var voice = this.cache[name];\n        var release = voice.envelope.release || 0;\n        var pauseFn = function() {\n            for (var i = 0; i < voice.sounds.length; i++) {\n                voice.sounds[i].stop();\n            }\n        };\n        var now = new Date().getTime();\n        var hold = Math.max(0, release - (now - voice.starttime));\n        var _ = (release == 0) ? pauseFn() : setTimeout(pauseFn, hold);\n};\nSoundCache.prototype.envelope = function(name, update) {\n        if (not(name in this.cache)) {\n            return;\n        }\n        var voice = this.cache[name];\n        for (var prop in update) {\n            voice.envelope[prop] = update[prop];\n        }\n};\nSoundCache.prototype.playseq = (function() {\n        var timer = null;\n        var queue = [];\n        var playFn = function() {\n            var tuple = queue.shift();\n            if (!tuple) {\n                timer = null;\n                return;\n            }\n            var name = tuple[0],\n                duration = tuple[1] || 0,\n                pause = tuple[2] || 0;\n            if (name in this.cache) {\n                this.play(name);\n            }\n            timer = setTimeout(bind(this, playFn), duration + pause);\n        };\n        return function (sequence) {\n            for (var i = 0; i < sequence.length; i++) {\n                queue.push(sequence[i]);\n            }\n            if (timer == null) {\n                timer = setTimeout(bind(this, playFn), 0);\n            }\n        };\n})();\n\nexports.SoundCache = SoundCache;\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nvar inherits = require('util').inherits;\n\n/**\n * Construct a {@link StateMachine}.\n * @class\n * @classdesc A {@link StateMachine} is defined by an object whose keys are\n *   state names and whose values are arrays of valid states to transition to.\n *   All state transitions, valid or invalid, are recorded.\n * @param {?string} initialState\n * @param {object} states\n * @property {string} currentState\n * @proeprty {object} states\n * @property {Array<StateTransition>} transitions\n */\nfunction StateMachine(states, initialState) {\n  if (!(this instanceof StateMachine)) {\n    return new StateMachine(states, initialState);\n  }\n  var currentState = initialState;\n  Object.defineProperties(this, {\n    _currentState: {\n      get: function() {\n        return currentState;\n      },\n      set: function(_currentState) {\n        currentState = _currentState;\n      }\n    },\n    currentState: {\n      enumerable: true,\n      get: function() {\n        return currentState;\n      }\n    },\n    states: {\n      enumerable: true,\n      value: states\n    },\n    transitions: {\n      enumerable: true,\n      value: []\n    }\n  });\n  Object.freeze(this);\n}\n\n/**\n * Transition the {@link StateMachine}, recording either a valid or invalid\n * transition. If the transition was valid, we complete the transition before\n * throwing the {@link InvalidStateTransition}.\n * @param {string} to\n * @throws {InvalidStateTransition}\n * @returns {this}\n */\nStateMachine.prototype.transition = function transition(to) {\n  var from = this.currentState;\n  var valid = this.states[from];\n  var transition = valid && valid.indexOf(to) !== -1\n    ? new StateTransition(from, to)\n    : new InvalidStateTransition(from, to);\n  this.transitions.push(transition);\n  this._currentState = to;\n  if (transition instanceof InvalidStateTransition) {\n    throw transition;\n  }\n  return this;\n};\n\n/**\n * Construct a {@link StateTransition}.\n * @class\n * @param {?string} from\n * @param {string} to\n * @property {?string} from\n * @property {string} to\n */\nfunction StateTransition(from, to) {\n  Object.defineProperties(this, {\n    from: {\n      enumerable: true,\n      value: from\n    },\n    to: {\n      enumerable: true,\n      value: to\n    }\n  });\n}\n\n/**\n * Construct an {@link InvalidStateTransition}.\n * @class\n * @augments Error\n * @augments StateTransition\n * @param {?string} from\n * @param {string} to\n * @property {?string} from\n * @property {string} to\n * @property {string} message\n */\nfunction InvalidStateTransition(from, to) {\n  if (!(this instanceof InvalidStateTransition)) {\n    return new InvalidStateTransition(from, to);\n  }\n  Error.call(this);\n  StateTransition.call(this, from, to);\n  var errorMessage = 'Invalid transition from ' +\n    (typeof from === 'string' ? '\"' + from + '\"' : 'null') + ' to \"' + to + '\"';\n  Object.defineProperties(this, {\n    message: {\n      enumerable: true,\n      value: errorMessage\n    }\n  });\n  Object.freeze(this);\n}\n\ninherits(InvalidStateTransition, Error);\n\nmodule.exports = StateMachine;\n\n},{\"util\":37}],19:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter;\n\nfunction getPStreamVersion() {\n  // NOTE(mroberts): Set by `Makefile'.\n  return \"1.3\" || '1.0';\n}\n\nfunction getSDKHash() {\n  // NOTE(mroberts): Set by `Makefile'.\n  return \"a95f379\";\n}\n\nfunction getReleaseVersion() {\n  // NOTE(jvass): Set by `Makefile`.\n  return \"1.3.16\";\n}\n\nfunction getSoundVersion() {\n  // NOTE(rrowland): Set by `Makefile`.\n  return \"1.0.0\" || '1.0.0';\n}\n\n/**\n * Exception class.\n *\n * @name Exception\n * @exports _Exception as Twilio.Exception\n * @memberOf Twilio\n * @constructor\n * @param {string} message The exception message\n */\nfunction _Exception(message) {\n    if (!(this instanceof _Exception)) return new _Exception(message);\n    this.message = message;\n}\n\n/**\n * Returns the exception message.\n *\n * @return {string} The exception message.\n */\n_Exception.prototype.toString = function() {\n    return \"Twilio.Exception: \" + this.message;\n}\n\nfunction memoize(fn) {\n    return function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        fn.memo = fn.memo || {};\n        return fn.memo[args]\n            ? fn.memo[args]\n            : fn.memo[args] = fn.apply(null, args);\n    };\n}\n\nfunction decodePayload(encoded_payload) {\n    var remainder = encoded_payload.length % 4;\n    if (remainder > 0) {\n        var padlen = 4 - remainder;\n        encoded_payload += new Array(padlen + 1).join(\"=\");\n    }\n    encoded_payload = encoded_payload.replace(/-/g, \"+\")\n                                     .replace(/_/g, \"/\");\n    var decoded_payload = _atob(encoded_payload);\n    return JSON.parse(decoded_payload);\n}\n\nvar memoizedDecodePayload = memoize(decodePayload);\n\n/**\n * Decodes a token.\n *\n * @name decode\n * @exports decode as Twilio.decode\n * @memberOf Twilio\n * @function\n * @param {string} token The JWT\n * @return {object} The payload\n */\nfunction decode(token) {\n    var segs = token.split(\".\");\n    if (segs.length != 3) {\n        throw new _Exception(\"Wrong number of segments\");\n    }\n    var encoded_payload = segs[1];\n    var payload = memoizedDecodePayload(encoded_payload);\n    return payload;\n}\n\nfunction makedict(params) {\n    if (params == \"\") return {};\n    if (params.indexOf(\"&\") == -1 && params.indexOf(\"=\") == -1) return params;\n    var pairs = params.split(\"&\");\n    var result = {};\n    for (var i = 0; i < pairs.length; i++) {\n        var pair = pairs[i].split(\"=\");\n        result[decodeURIComponent(pair[0])] = makedict(decodeURIComponent(pair[1]));\n    }\n    return result;\n}\n\nfunction makescope(uri) {\n    var parts = uri.match(/^scope:(\\w+):(\\w+)\\??(.*)$/);\n    if (!(parts && parts.length == 4)) {\n        throw new _Exception(\"Bad scope URI\");\n    }\n    return {\n        service: parts[1],\n        privilege: parts[2],\n        params: makedict(parts[3])\n    };\n}\n\n/**\n* Encodes a Javascript object into a query string.\n* Based on python's urllib.urlencode.\n* @name urlencode\n* @memberOf Twilio\n* @function\n* @param {object} params_dict The key-value store of params\n* @param {bool} do_seq If True, look for values as lists for multival params\n*/\nfunction urlencode(params_dict, doseq) {\n    var parts = [];\n    doseq = doseq || false;\n    for (var key in params_dict) {\n        if (doseq && (params_dict[key] instanceof Array)) {\n            for(var index in params_dict[key]) {\n                var value = params_dict[key][index];\n                parts.push(\n                    encodeURIComponent(key) + \"=\" + encodeURIComponent(value)\n                );\n            }\n        } else {\n            var value = params_dict[key];\n            parts.push(\n                encodeURIComponent(key) + \"=\" + encodeURIComponent(value)\n            );\n        }\n    }\n    return parts.join(\"&\");\n}\n\nfunction objectize(token) {\n    var jwt = decode(token);\n    var scopes = (jwt.scope.length === 0 ? [] : jwt.scope.split(\" \"));\n    var newscopes = {};\n    for (var i = 0; i < scopes.length; i++) {\n        var scope = makescope(scopes[i]);\n        newscopes[scope.service + \":\" + scope.privilege] = scope;\n    }\n    jwt.scope = newscopes;\n    return jwt;\n}\n\nvar memoizedObjectize = memoize(objectize);\n\n/**\n * Wrapper for btoa.\n *\n * @name btoa\n * @exports _btoa as Twilio.btoa\n * @memberOf Twilio\n * @function\n * @param {string} message The decoded string\n * @return {string} The encoded string\n */\nfunction _btoa(message) {\n    try {\n        return btoa(message);\n    } catch (e) {\n        return new Buffer(message).toString(\"base64\");\n    }\n}\n\n/**\n * Wrapper for atob.\n *\n * @name atob\n * @exports _atob as Twilio.atob\n * @memberOf Twilio\n * @function\n * @param {string} encoded The encoded string\n * @return {string} The decoded string\n */\nfunction _atob(encoded) {\n    try {\n        return atob(encoded);\n    } catch (e) {\n        try {\n            return new Buffer(encoded, \"base64\").toString(\"ascii\");\n        } catch (e) {\n            return base64.decode(encoded);\n        }\n    }\n}\n\n/**\n * Generates JWT tokens. For simplicity, only the payload segment is viable;\n * the header and signature are garbage.\n *\n * @param object payload The payload\n * @return string The JWT\n */\nfunction dummyToken(payload) {\n    var token_defaults = {\n        \"iss\": \"AC1111111111111111111111111111111\",\n        \"exp\": 1400000000\n    }\n    for (var k in token_defaults) {\n        payload[k] = payload[k] || token_defaults[k];\n    }\n    var encoded_payload = _btoa(JSON.stringify(payload));\n    encoded_payload = encoded_payload.replace(/=/g, \"\")\n                                     .replace(/\\+/g, \"-\")\n                                     .replace(/\\//g, \"_\");\n    return [\"*\", encoded_payload, \"*\"].join(\".\");\n}\n\nfunction encodescope(service, privilege, params) {\n    var capability = [\"scope\", service, privilege].join(\":\");\n    var empty = true;\n    for (var _ in params) { empty = false; break; }\n    return empty ? capability : capability + \"?\" + buildquery(params);\n}\n\nfunction buildquery(params) {\n    var pairs = [];\n    for (var name in params) {\n        var value = typeof params[name] == \"object\"\n            ? buildquery(params[name])\n            : params[name];\n        pairs.push(encodeURIComponent(name) + \"=\" +\n                   encodeURIComponent(value));\n    }\n    return pairs.join(\"&\");\n}\n\nvar bind = function(fn, ctx) {\n    var applied = Array.prototype.slice.call(arguments, 2);\n    return function() {\n        var extra = Array.prototype.slice.call(arguments);\n        return fn.apply(ctx, applied.concat(extra));\n    };\n};\n\nvar Set = (function() {\n    function Set() { this.set = {} }\n    Set.prototype.clear = function() { this.set = {} };\n    Set.prototype.put = function(elem) { return this.set[elem] = Set.DUMMY };\n    Set.prototype.del = function(elem) { return delete this.set[elem] };\n    Set.prototype.map = function(fn, this_) {\n        var results = [];\n        for (var item in this.set) {\n            results.push(fn.call(this_, item));\n        }\n        return results;\n    };\n    Set.DUMMY = {};\n    return Set;\n})();\n\nvar getSystemInfo = function() {\n    var rtc = require(\"./rtc\"),\n        version = getPStreamVersion(),\n        hash = getSDKHash(),\n        nav = typeof navigator != \"undefined\" ? navigator : {};\n    \n    var info = {\n        p: \"browser\",\n        v: version,\n        h: hash,\n        browser: {\n            userAgent: nav.userAgent || \"unknown\",\n            platform: nav.platform || \"unknown\"\n        },\n        plugin: \"rtc\"\n    };\n\n    return info;\n};\n\nfunction trim(str) {\n    if (typeof str != \"string\") return \"\";\n    return str.trim\n        ? str.trim()\n        : str.replace(/^\\s+|\\s+$/g, \"\");\n}\n\n/**\n * Splits a concatenation of multiple JSON strings into a list of JSON strings.\n *\n * @param string json The string of multiple JSON strings\n * @param boolean validate If true, thrown an error on invalid syntax\n *\n * @return array A list of JSON strings\n */\nfunction splitObjects(json, validate) {\n    var trimmed = trim(json);\n    return trimmed.length == 0 ? [] : trimmed.split(\"\\n\");\n}\n\nfunction generateConnectionUUID() {\n    return 'TJSxxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n}\n\nvar TWILIO_ROOT = \"\";\n\nfunction getTwilioRoot() {\n  return TWILIO_ROOT;\n}\n\nfunction setTwilioRoot(twilioRoot) {\n  TWILIO_ROOT = twilioRoot;\n}\n\nfunction monitorEventEmitter(name, object) {\n  object.setMaxListeners(0);\n  var MAX_LISTENERS = 10;\n  function monitor(event) {\n    var n = EventEmitter.listenerCount(object, event);\n    var warning = 'The number of ' + event + ' listeners on ' + name + ' ' +\n                  'exceeds the recommended number of ' + MAX_LISTENERS + '. ' +\n                  'While twilio.js will continue to function normally, this ' +\n                  'may be indicative of an application error. Note that ' +\n                  event + ' listeners exist for the lifetime of the ' +\n                  name + '.';\n    if (n >= MAX_LISTENERS) {\n      if (typeof console !== 'undefined') {\n        if (console.warn) {\n          console.warn(warning);\n        } else if (console.log) {\n          console.log(warning);\n        }\n      }\n      object.removeListener('newListener', monitor);\n    }\n  }\n  object.on('newListener', monitor);\n}\n\n// This definition of deepEqual is adapted from Node's deepEqual.\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  } else if (typeof a !== typeof b) {\n    return false;\n  } else if (a instanceof Date && b instanceof Date) {\n    return a.getTime() === b.getTime();\n  } else if (typeof a !== 'object' && typeof b !== 'object') {\n    return a == b;\n  } else {\n    return objectDeepEqual(a, b);\n  }\n}\n\nvar objectKeys = typeof Object.keys === 'function' ? Object.keys : function(obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }\n  return keys;\n};\n\nfunction isUndefinedOrNull(a) {\n  return a === undefined || a === null;\n}\n\nfunction objectDeepEqual(a, b) {\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) {\n    return false;\n  } else if (a.prototype !== b.prototype) {\n    return false;\n  } else {\n    try {\n      var ka = objectKeys(a);\n      var kb = objectKeys(b);\n    } catch (e) {\n      return false;\n    }\n    if (ka.length !== kb.length) {\n      return false;\n    }\n    ka.sort();\n    kb.sort();\n    for (var i = ka.length - 1; i >= 0; i--) {\n      var k = ka[i];\n      if (!deepEqual(a[k], b[k])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nexports.getPStreamVersion = getPStreamVersion;\nexports.getReleaseVersion = getReleaseVersion;\nexports.getSoundVersion = getSoundVersion;\nexports.encodescope = encodescope;\nexports.dummyToken = dummyToken;\nexports.Exception = _Exception;\nexports.decode = decode;\nexports.btoa = _btoa;\nexports.atob = _atob;\nexports.objectize = memoizedObjectize;\nexports.urlencode = urlencode;\nexports.Set = Set;\nexports.bind = bind;\nexports.getSystemInfo = getSystemInfo;\nexports.splitObjects = splitObjects;\nexports.generateConnectionUUID = generateConnectionUUID;\nexports.getTwilioRoot = getTwilioRoot;\nexports.setTwilioRoot = setTwilioRoot;\nexports.monitorEventEmitter = monitorEventEmitter;\nexports.deepEqual = deepEqual;\n\n},{\"./rtc\":11,\"events\":21}],20:[function(require,module,exports){\nvar Heartbeat = require(\"./heartbeat\").Heartbeat;\nvar log = require(\"./log\");\n\nvar WebSocket = require('ws');\n\n/*\n * WebSocket transport class\n */\nfunction WSTransport(options) { \n    var self = this instanceof WSTransport ? this : new WSTransport(options);\n    self.sock = null;\n    var noop = function() {};\n    self.onopen = noop;\n    self.onclose = noop;\n    self.onmessage = noop;\n    self.onerror = noop;\n\n    var defaults = {\n        logPrefix:  \"[WSTransport]\",\n        chunderw:   \"chunderw-vpc-gll.twilio.com\",\n        reconnect:  true,\n        debug:      false,\n        secureSignaling: true\n    };\n    options = options || {};\n    for (var prop in defaults) {\n        if (prop in options) continue;\n        options[prop] = defaults[prop];\n    }\n    self.options = options;\n\n    log.mixinLog(self, self.options[\"logPrefix\"]);\n    self.log.enabled = self.options[\"debug\"];\n\n    self.defaultReconnect = self.options[\"reconnect\"];\n\n    var scheme = self.options[\"secureSignaling\"] ? \"wss://\" : \"ws://\";\n    self.uri = scheme + self.options[\"host\"] + \"/signal\";\n    return self;\n}\n\nWSTransport.prototype.msgQueue = [];\nWSTransport.prototype.open = function(attempted) {\n        this.log(\"Opening socket\");\n        if (this.sock && this.sock.readyState < 2) {\n            this.log(\"Socket already open.\");\n            return;\n        }\n\n        this.options[\"reconnect\"] = this.defaultReconnect;\n\n        // cancel out any previous heartbeat\n        if (this.heartbeat) {\n            this.heartbeat.onsleep = function() {};\n        }\n        this.heartbeat = new Heartbeat({ \"interval\": 15 });\n        this.sock = this._connect(attempted);\n};\nWSTransport.prototype.send = function(msg) {\n        if (this.sock) {\n            if (this.sock.readyState == 0) {\n                this.msgQueue.push(msg);\n                return;\n            }\n\n            try {\n                this.sock.send(msg);\n            } catch (error) {\n                this.log(\"Error while sending. Closing socket: \" + error.message);\n                this.sock.close();\n            }\n        }\n};\nWSTransport.prototype.close = function() {\n        this.log(\"Closing socket\");\n        this.options[\"reconnect\"] = false;\n        if (this.sock) {\n            this.sock.close();\n            this.sock = null;\n        }\n        this.heartbeat.onsleep = function() {};\n};\nWSTransport.prototype._cleanupSocket = function(socket) {\n        if (socket) {\n            this.log(\"Cleaning up socket\");\n            var noop = function() {};\n            socket.onopen = function() { socket.close(); };\n            socket.onmessage = noop;\n            socket.onerror = noop;\n            socket.onclose = noop;\n\n            if (socket.readyState < 2) {\n                socket.close();\n            }\n        }\n};\nWSTransport.prototype._connect = function(attempted) {\n        var attempt = ++attempted || 1;\n\n        this.log(\"attempting to connect\");\n        var sock = null;\n        try {\n            sock = new WebSocket(this.uri);\n        }\n        catch (e) {\n            this.onerror({ code: 31000, message: e.message || \"Could not connect to \" + this.uri});\n            this.close(); //close connection for good\n            return;\n        }\n\n        var self = this;\n\n        // clean up old socket to avoid any race conditions with the callbacks\n        var oldSocket = this.sock;\n        var getTime = function() { return new Date().getTime(); };\n        var timeOpened = null;\n\n        var connectTimeout = setTimeout(function() {\n            self.log(\"connection attempt timed out\");\n            sock.onclose = function() {};\n            sock.close();\n            self.onclose();\n            self._tryReconnect(attempt);\n        }, 5000);\n\n        sock.onopen = function() {\n            clearTimeout(connectTimeout);\n            self._cleanupSocket(oldSocket);\n            timeOpened = getTime();\n            self.log(\"Socket opened\");\n\n            // setup heartbeat onsleep and beat it once to get timer started\n            self.heartbeat.onsleep = function() {\n                // treat it like the socket closed because when network drops onclose does not get called right away\n                self.log(\"Heartbeat timed out. closing socket\");\n                self.sock.onclose = function() {};\n                self.sock.close();\n                self.onclose();\n                self._tryReconnect(attempt);\n            }\n            self.heartbeat.beat();\n\n            self.onopen();\n\n            // send after onopen to preserve order\n            for (var i = 0; i < self.msgQueue.length; i++) {\n                self.sock.send(self.msgQueue[i]);\n            }\n            self.msgQueue = [];\n        };\n        sock.onclose = function() {\n            clearTimeout(connectTimeout);\n            self._cleanupSocket(oldSocket);\n\n            // clear the heartbeat onsleep callback\n            self.heartbeat.onsleep = function() {};\n\n            // reset backoff counter if connection was open for enough time to be considered successful\n            if (timeOpened) {\n                var socketDuration = (getTime() - timeOpened)/1000;\n                if (socketDuration > 10) {\n                    attempt = 1;\n                }\n            }\n\n            self.log(\"Socket closed\");\n            self.onclose();\n            self._tryReconnect(attempt);\n        };\n        sock.onerror = function(e) {\n            self.log(\"Socket received error: \" + e.message);\n            self.onerror({ code: 31000, message: e.message || \"WSTransport socket error\"});\n        };\n        sock.onmessage = function(message) {\n            self.heartbeat.beat();\n            if (message.data == \"\\n\") {\n                self.send(\"\\n\");\n                return;\n            }\n\n            //TODO check if error passed back from gateway is 5XX error\n            // if so, retry connection with exponential backoff\n            self.onmessage(message);\n        };\n\n        return sock;\n};\nWSTransport.prototype._tryReconnect = function(attempted) {\n        attempted = attempted || 0;\n        if (this.options[\"reconnect\"]) {\n            this.log(\"Attempting to reconnect.\");\n            var self = this;\n            var backoff = 0;\n            if (attempted < 5) {\n                // setup exponentially random backoff\n                var minBackoff = 30;\n                var backoffRange = Math.pow(2,attempted)*50;\n                backoff = minBackoff + Math.round(Math.random()*backoffRange);\n            } else {\n                // continuous reconnect attempt\n                backoff = 3000;\n            }\n            setTimeout( function() {\n                self.open(attempted);\n            }, backoff);\n        }\n};\n\nexports.WSTransport = WSTransport;\n\n},{\"./heartbeat\":6,\"./log\":7,\"ws\":38}],21:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],22:[function(require,module,exports){\n'use strict';\n\nmodule.exports.RTCIceCandidate = require('./rtcicecandidate');\nmodule.exports.RTCPeerConnection = require('./rtcpeerconnection');\nmodule.exports.RTCSessionDescription = require('./rtcsessiondescription');\n\n},{\"./rtcicecandidate\":25,\"./rtcpeerconnection\":26,\"./rtcsessiondescription\":28}],23:[function(require,module,exports){\n'use strict';\n\n/**\n * Construct a {@link MediaSection}.\n * @class\n * @classdesc\n * @param {?string} [address=\"0.0.0.0\"]\n * @param {?Array<RTCIceCandidate>} [candidates=[]]\n * @param {object} capabilities\n * @param {string} direction - one of \"sendrecv\", \"sendonly\", \"recvonly\", or \"inactive\"\n * @param {string} kind - one of \"audio\" or \"video\"\n * @param {string} mid\n * @param {?number} [port=9]\n * @param {?boolean} [rtcpMux=true]\n * @param {?string} streamId\n * @param {?MediaStreamTrack} track\n * @property {Array<RTCIceCandidate>} candidates\n * @property {object} capabilities\n * @property {?RTCIceCandidate} defaultCandidate\n * @property {string} direction - one of \"sendrecv\", \"sendonly\", \"recvonly\", or \"inactive\"\n * @property {string} kind - one of \"audio\" or \"video\"\n * @property {string} mid\n * @property {number} port\n * @property {boolean} rtcpMux\n * @property {?string} streamId\n * @property {?MediaStreamTrack} track\n */\nfunction MediaSection(address, _candidates, capabilities, direction, kind, mid, port, rtcpMux, streamId, track) {\n  if (!(this instanceof MediaSection)) {\n    return new MediaSection(address, _candidates, capabilities, direction, kind,\n      mid, port, rtcpMux, streamId, track);\n  }\n  var rejected = false;\n  address = address || '0.0.0.0';\n  port = typeof port === 'number' ? port : 9;\n  rtcpMux = typeof rtcpMux === 'boolean' ? rtcpMux : true;\n  streamId = streamId || null;\n  track = track || null;\n  Object.defineProperties(this, {\n    _address: {\n      get: function() {\n        return address;\n      },\n      set: function(_address) {\n        address = _address;\n      }\n    },\n    _candidates: {\n      value: []\n    },\n    _port: {\n      get: function() {\n        return port;\n      },\n      set: function(_port) {\n        port = _port;\n      }\n    },\n    _rejected: {\n      get: function() {\n        return rejected;\n      },\n      set: function(_rejected) {\n        rejected = _rejected;\n      }\n    },\n    _streamId: {\n      get: function() {\n        return streamId;\n      },\n      set: function(_streamId) {\n        streamId = _streamId;\n      }\n    },\n    _track: {\n      get: function() {\n        return track;\n      },\n      set: function(_track) {\n        track = _track;\n      }\n    },\n    _triples: {\n      value: new Set()\n    },\n    candidates: {\n      enumerable: true,\n      get: function() {\n        return this._candidates.slice();\n      }\n    },\n    capabilities: {\n      enumerable: true,\n      value: capabilities\n    },\n    defaultCandidate: {\n      enumerable: true,\n      get: function() {\n        return this._candidates.length ? this._candidates[0] : null;\n      }\n    },\n    direction: {\n      enumerable: true,\n      value: direction\n    },\n    kind: {\n      enumerable: true,\n      value: kind\n    },\n    port: {\n      enumerable: true,\n      get: function() {\n        return port;\n      }\n    },\n    rtcpMux: {\n      enumerable: true,\n      value: rtcpMux\n    },\n    streamId: {\n      enumerable: true,\n      get: function() {\n        return streamId;\n      }\n    },\n    track: {\n      enumerable: true,\n      get: function() {\n        return track;\n      }\n    }\n  });\n  if (_candidates) {\n    _candidates.forEach(this.addCandidate, this);\n  }\n}\n\n/**\n * Add an RTCIceCandidate to the {@link MediaSection}.\n * @param {RTCIceCandidate} candidate\n * @returns {boolean}\n */\nMediaSection.prototype.addCandidate = function addCandidate(candidate) {\n  var triple = [\n    candidate.ip,\n    candidate.port,\n    candidate.protocol\n  ].join(' ');\n  if (!this._triples.has(triple)) {\n    this._triples.add(triple);\n    this._candidates.push(candidate);\n    return true;\n  }\n  return false;\n};\n\n/**\n * Copy the {@link MediaSection}.\n * @param {?string} address - if unsupplied, use the {@link MediaSection} defaults\n * @param {?Array<RTCIceCandidates> candidates - if unsupplied, use the {@link MediaSection} defaults\n * @param {?string} capabilities - if unsupplied, copy the existing capabilities\n * @param {?string} direction - if unsupplied, copy the existing direction\n * @param {?number} port - if unsupplied, use the {@link MediaSection} defaults\n * @param {?string} streamId - if unsupplied, set to null\n * @param {?MediaStreamTrack} track - if unsupplied, set to null\n * @returns {MediaSection}\n */\nMediaSection.prototype.copy = function copy(address, candidates, capabilities, direction, port, streamId, track) {\n  return new MediaSection(this.address, candidates,\n    capabilities || this.capabilities, direction || this.direction, this.kind,\n    this.mid, port, this.rtcpMux, streamId, track);\n};\n\n/**\n * Copy and reject the {@link MediaSection}.\n * @returns {MediaSection}.\n */\nMediaSection.prototype.copyAndReject = function copyAndReject() {\n  var mediaSection = new MediaSection(null, this.candidates, this.capabilities,\n    this.direction, this.kind, this.mid, null, this.rtcpMux);\n  return mediaSection.reject();\n};\n\n/**\n * Reject the {@link MediaSection}.\n * @returns {MediaSection}\n */\nMediaSection.prototype.reject = function reject() {\n  // RFC 3264, Section 6:\n  //\n  //     To reject an offered stream, the port number in the corresponding\n  //     stream in the answer MUST be set to zero. Any media formats listed\n  //     are ignored. At least one MUST be present, as specified by SDP.\n  //\n  this.setPort(0);\n  return this;\n};\n\n/**\n * Set the {@link MediaSection}'s address.\n * @param {string} address\n * @returns {MediaSection}\n */\nMediaSection.prototype.setAddress = function setAddress(address) {\n  this._address = address;\n  return this;\n};\n\n/**\n * Set the {@link MediaSection}'s port.\n * @param {number} port\n * @returns {MediaSection}\n */\nMediaSection.prototype.setPort = function setPort(port) {\n  this._port = port;\n  return this;\n};\n\n/* MediaSection.prototype.setStreamId = function setStreamId(streamId) {\n  this._streamId = streamId;\n  return this;\n};\n\nMediaSection.prototype.setTrack = function setTrack(track) {\n  this._track = track;\n  return this;\n}; */\n\nmodule.exports = MediaSection;\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\n/**\n * Construct a {@link MediaStreamEvent}.\n * @class\n * @classdesc\n * @extends Event\n * @param {string} type - one of \"addstream\" or \"removestream\"\n * @param {object} init\n * @property {MediaStream} stream\n */\nfunction MediaStreamEvent(type, init) {\n  if (!(this instanceof MediaStreamEvent)) {\n    return new MediaStreamEvent(type, init);\n  }\n  Event.call(this, type, init);\n  Object.defineProperties(this, {\n    stream: {\n      enumerable: true,\n      value: init.stream\n    }\n  });\n}\n\nmodule.exports = MediaStreamEvent;\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\n/**\n * Construct an {@link RTCIceCandidate}.\n * @class\n * @classdesc\n * @param {object} candidate\n * @property {string} candidate\n * @property {number} sdpMLineIndex\n */\nfunction RTCIceCandidate(candidate) {\n  if (!(this instanceof RTCIceCandidate)) {\n    return new RTCIceCandidate(candidate);\n  }\n  Object.defineProperties(this, {\n    candidate: {\n      enumerable: true,\n      value: candidate.candidate\n    },\n    sdpMLineIndex: {\n      enumerable: true,\n      value: candidate.sdpMLineIndex\n    }\n  });\n}\n\nmodule.exports = RTCIceCandidate;\n\n},{}],26:[function(require,module,exports){\n'use strict';\n\nvar MediaSection = require('./mediasection');\nvar MediaStreamEvent = require('./mediastreamevent');\nvar RTCIceCandidate = require('./rtcicecandidate');\nvar RTCPeerConnectionIceEvent = require('./rtcpeerconnectioniceevent');\nvar RTCSessionDescription = require('./rtcsessiondescription');\nvar sdpTransform = require('sdp-transform');\nvar sdpUtils = require('./sdp-utils');\n\n/**\n * Construct an {@link RTCPeerConnection}.\n * @class\n * @classdesc This {@link RTCPeerConnection} is implemented in terms of ORTC APIs.\n * @param {RTCConfiguration} configuration\n * @property {string} iceConnectionState\n * @property {string} iceGatheringState\n * @property {?RTCSessionDescription} localDescription\n * @property {?function} onaddstream\n * @property {?function} onicecandidate\n * @property {?function} oniceconnectionstatechange\n * @property {?function} onsignalingstatechange\n * @property {?RTCSessionDescription} remoteDescription\n * @property {string} signalingState\n */\nfunction RTCPeerConnection(configuration) {\n  if (!(this instanceof RTCPeerConnection)) {\n    return new RTCPeerConnection(configuration);\n  }\n\n  // ICE Gatherer\n\n  var gatherOptions = makeGatherOptions(configuration);\n  /* global RTCIceGatherer:true */\n  var iceGatherer = new RTCIceGatherer(gatherOptions);\n  var iceGatheringCompleted = false;\n\n  iceGatherer.onlocalcandidate = this._onlocalcandidate.bind(this);\n\n  var onicecandidate = null;\n  var onicecandidateWasSet = false;\n\n  var iceCandidatesAdded = 0;\n\n  // ICE Transport\n\n  /* global RTCIceTransport:true */\n  var iceTransport = new RTCIceTransport();\n  var oniceconnectionstatechange = null;\n\n  iceTransport.onicestatechange = this._onicestatechange.bind(this);\n\n  // DTLS Transport\n\n  /* global RTCDtlsTransport:true */\n  var dtlsTransport = new RTCDtlsTransport(iceTransport);\n\n  dtlsTransport.ondtlsstatechange = this._ondtlsstatechange.bind(this);\n\n  // Descriptions\n\n  var signalingState = 'stable';\n  var onsignalingstatechange = null;\n\n  var localDescription = null;\n  var remoteDescription = null;\n\n  // Streams\n\n  var onaddstream = null;\n\n  Object.defineProperties(this, {\n    _dtlsTransport: {\n      value: dtlsTransport\n    },\n    _dtmfSenders: {\n      value: new Map()\n    },\n    _gatherOptions: {\n      value: gatherOptions\n    },\n    _iceCandidatesAdded: {\n      get: function() {\n        return iceCandidatesAdded;\n      },\n      set: function(_iceCandidatesAdded) {\n        iceCandidatesAdded = _iceCandidatesAdded;\n      }\n    },\n    _iceGatherer: {\n      value: iceGatherer\n    },\n    _iceGatheringCompleted: {\n      get: function() {\n        return iceGatheringCompleted;\n      },\n      set: function(_iceGatheringCompleted) {\n        iceGatheringCompleted = _iceGatheringCompleted;\n      }\n    },\n    _iceTransport: {\n      value: iceTransport\n    },\n    _localCandidates: {\n      value: new Set()\n    },\n    _localDescription: {\n      get: function() {\n        return localDescription;\n      },\n      set: function(_localDescription) {\n        localDescription = _localDescription;\n      }\n    },\n    _localStreams: {\n      value: []\n    },\n    _midCounters: {\n      value: {\n        audio: 0,\n        video: 0\n      }\n    },\n    _remoteCandidates: {\n      value: new Set()\n    },\n    _remoteDescription: {\n      get: function() {\n        return remoteDescription;\n      },\n      set: function(_remoteDescription) {\n        remoteDescription = _remoteDescription;\n      }\n    },\n    _remoteStreams: {\n      value: []\n    },\n    _rtpReceivers: {\n      value: new Map()\n    },\n    _rtpSenders: {\n      value: new Map()\n    },\n    _signalingState: {\n      get: function() {\n        return signalingState;\n      },\n      set: function(_signalingState) {\n        signalingState = _signalingState;\n        if (this.onsignalingstatechange) {\n          this.onsignalingstatechange();\n        }\n      }\n    },\n    _streamIds: {\n      value: new Map()\n    },\n    iceConnectionState: {\n      enumerable: true,\n      get: function() {\n        return iceTransport.state;\n      }\n    },\n    iceGatheringState: {\n      enumerable: true,\n      get: function() {\n        return iceGatheringCompleted ? 'gathering' : 'complete';\n      }\n    },\n    localDescription: {\n      enumerable: true,\n      get: function() {\n        return localDescription;\n      }\n    },\n    onaddstream: {\n      enumerable: true,\n      get: function() {\n        return onaddstream;\n      },\n      set: function(_onaddstream) {\n        onaddstream = _onaddstream;\n      }\n    },\n    onicecandidate: {\n      enumerable: true,\n      get: function() {\n        return onicecandidate;\n      },\n      set: function(_onicecandidate) {\n        onicecandidate = _onicecandidate;\n        if (!onicecandidateWasSet) {\n          try {\n            iceGatherer.getLocalCandidates()\n              .forEach(iceGatherer.onlocalcandidate);\n          } catch (error) {\n            // Do nothing.\n          }\n        }\n        onicecandidateWasSet = true;\n      }\n    },\n    oniceconnectionstatechange: {\n      enumerable: true,\n      get: function() {\n        return oniceconnectionstatechange;\n      },\n      set: function(_oniceconnectionstatechange) {\n        oniceconnectionstatechange = _oniceconnectionstatechange;\n      }\n    },\n    onsignalingstatechange: {\n      enumerable: true,\n      get: function() {\n        return onsignalingstatechange;\n      },\n      set: function(_onsignalingstatechange) {\n        onsignalingstatechange = _onsignalingstatechange;\n      }\n    },\n    remoteDescription: {\n      enumerable: true,\n      get: function() {\n        return remoteDescription;\n      }\n    },\n    signalingState: {\n      enumerable: true,\n      get: function() {\n        return signalingState;\n      }\n    }\n  });\n}\n\nRTCPeerConnection.prototype._makeMid = function _makeMid(kind) {\n  return kind + ++this._midCounters[kind];\n};\n\n/**\n * This method is assigned to the {@link RTCDtlsTransport}'s \"ondtlsstatechange\" event handler.\n * @access private\n * @param {object} event\n */\nRTCPeerConnection.prototype._ondtlsstatechange = function _ondtlsstatechange(event) {\n  void event;\n};\n\n/**\n * This method is assigned to the {@link RTCIceTransport}'s \"onicestatechange\" event handler.\n * @access private\n * @param {object} event\n */\nRTCPeerConnection.prototype._onicestatechange = function _onicestatechange(event) {\n  if (this.oniceconnectionstatechange) {\n    this.oniceconnectionstatechange(event);\n  }\n};\n\n/**\n * This method is assigned to the {@link RTCIceGatherer}'s \"onlocalcandidate\" event handler.\n * @access private\n * @param {object} event\n */\nRTCPeerConnection.prototype._onlocalcandidate = function _onlocalcandidate(event) {\n  if (isEmptyObject(event.candidate)) {\n    this._iceGatheringCompleted = true;\n  }\n  this._localCandidates.add(event.candidate);\n  if (this.onicecandidate) {\n    var webrtcCandidate = makeWebRTCCandidate(event.candidate);\n    this.onicecandidate(makeOnIceCandidateEvent(webrtcCandidate));\n  }\n};\n\n/**\n * Start sending RTP.\n * @access private\n * @param {MediaSection} mediaSection\n * @returns {this}\n */\nRTCPeerConnection.prototype._sendRtp = function _sendRtp(mediaSection) {\n  var kind = mediaSection.kind;\n  // FIXME(mroberts): This is not right.\n  this._rtpSenders.forEach(function(rtpSender) {\n    if (rtpSender.track.kind !== kind) {\n      return;\n    }\n    rtpSender.send(mediaSection.capabilities);\n  }, this);\n  return this;\n};\n\n/**\n * Start sending and receiving RTP for the given {@link MediaSection}s.\n * @access private\n * @param {Array<MediaSection>} mediaSections\n * @returns {this}\n */\nRTCPeerConnection.prototype._sendAndReceiveRtp = function _sendAndReceiveRtp(mediaSections) {\n  mediaSections.forEach(function(mediaSection) {\n    if (mediaSection.direction === 'sendrecv' || mediaSection.direction === 'sendonly') {\n      this._sendRtp(mediaSection);\n    }\n    if (mediaSection.direction === 'sendrecv' || mediaSection.direction === 'recvonly') {\n    this._receiveRtp(mediaSection);\n    }\n  }, this);\n  return this;\n};\n\n/**\n * Start receiving RTP.\n * @access private\n * @param {MediaSection} mediaSection\n * @returns {this}\n */\nRTCPeerConnection.prototype._receiveRtp = function _receiveRtp(mediaSection) {\n  var kind = mediaSection.capabilities.type;\n  /* global RTCRtpReceiver:true */\n  var rtpReceiver = new RTCRtpReceiver(this._dtlsTransport, kind);\n  rtpReceiver.receive(mediaSection.capabilities);\n\n  var track = rtpReceiver.track;\n  this._rtpReceivers.set(track, rtpReceiver);\n\n  // NOTE(mroberts): Without any source-level msid attribute, we are just\n  // going to assume a one-to-one mapping between MediaStreams and\n  // MediaStreamTracks.\n  /* global MediaStream:true */\n  var mediaStream = new MediaStream();\n  mediaStream.addTrack(track);\n  this._remoteStreams.push(mediaStream);\n\n  if (this.onaddstream) {\n    this.onaddstream(makeOnAddStreamEvent(mediaStream));\n  }\n  return this;\n};\n\n/**\n * Start the {@link RTCDtlsTransport}.\n * @access private\n * @param {RTCDtlsParameters} dtlsParameters - the remote DTLS parameters\n * @returns {this}\n */\nRTCPeerConnection.prototype._startDtlsTransport = function _startDtlsTransport(dtlsParameters) {\n  this._dtlsTransport.start(dtlsParameters);\n  return this;\n};\n\n/**\n * Start the {@link RTCIceTransport}.\n * @access private\n * @param {RTCIceParameters} iceParameters - the remote ICE parameters\n * @returns {this}\n */\nRTCPeerConnection.prototype._startIceTransport = function _startIceTransport(iceParameters) {\n  var role = this.signalingState === 'have-local-offer'\n    ? 'controlling'\n    : 'controlled';\n  this._iceTransport.start(this._iceGatherer, iceParameters, role);\n  return this;\n};\n\n/**\n * Add an {@link RTCIceCandidate} to the {@link RTCPeerConnection}.\n * @param {RTCIceCandidate} candidate - the remote ICE candidate\n * @param {?function} [onSuccess]\n * @param {?function} [onFailure]\n * @returns {Promise}\n */\nRTCPeerConnection.prototype.addIceCandidate = function addIceCandidate(candidate, onSuccess, onFailure) {\n  // NOTE(mroberts): I'm not sure there is a scenario where we'd ever call\n  // onFailure.\n  void onFailure;\n\n  this._iceCandidatesAdded++;\n\n  var ortcCandidate = makeORTCCandidate(candidate);\n\n  // A candidate is identified by a triple of IP address, port, and protocol.\n  // ORTC ICE candidates have no component ID, and so we need to deduplicate\n  // the RTP and RTCP candidates when we're muxing.\n  var triple =\n    [ortcCandidate.ip, ortcCandidate.port, ortcCandidate.transport].join(' ');\n  if (!this._remoteCandidates.has(triple)) {\n    this._remoteCandidates.add(triple);\n    this._iceTransport.addRemoteCandidate(ortcCandidate);\n  }\n\n  if (onSuccess) {\n    onSuccess();\n  }\n};\n\n/**\n * Add a {@link MediaStream} to the {@link RTCPeerConnection}.\n * @param {MediaStream} stream\n */\nRTCPeerConnection.prototype.addStream = function addStream(mediaStream) {\n  this._localStreams.push(mediaStream);\n  mediaStream.getTracks().forEach(function(track) {\n    /* eslint no-invalid-this:0 */\n    /* global RTCRtpSender:true */\n    var rtpSender = new RTCRtpSender(track, this._dtlsTransport);\n    this._rtpSenders.set(track, rtpSender);\n    this._streamIds.set(track, mediaStream.id);\n  }, this);\n};\n\n/**\n * Close the {@link RTCPeerConnection}.\n */\nRTCPeerConnection.prototype.close = function close() {\n  this._signalingState = 'closed';\n  this._rtpReceivers.forEach(function(rtpReceiver) {\n    rtpReceiver.stop();\n  });\n  this._dtlsTransport.stop();\n  this._iceTransport.stop();\n};\n\n/**\n * Construct an {@link RTCSessionDescription} containing an SDP answer.\n * @param {?function} [onSuccess]\n * @param {?function} [onFailure]\n * @returns {Promise<RTCSessionDescription>}\n */\nRTCPeerConnection.prototype.createAnswer = function createAnswer(onSuccess, onFailure) {\n  if (this.signalingState !== 'have-remote-offer') {\n    return void onFailure(invalidSignalingState(this.signalingState));\n  }\n\n  // draft-ietf-rtcweb-jsep-11, Section 5.3.1:\n  //\n  //     The next step is to go through each offered m= section. If there is a\n  //     local MediaStreamTrack of the same type which has been added to the\n  //     PeerConnection via addStream and not yet associated with a m= section,\n  //     and the specific m= section is either sendrecv or recvonly, the\n  //     MediaStreamTrack will be associated with the m= section at this time.\n  //     MediaStreamTracks are assigned using the canonical order described in\n  //     Section 5.2.1.\n  //\n  var remote = sdpUtils.parseDescription(this.remoteDescription); // sdpTransform.parse(this.remoteDescription.sdp);\n  var streams = this.getLocalStreams();\n  var tracks = { audio: [], video: [] };\n  streams.forEach(function(stream) {\n    tracks.audio = tracks.audio.concat(stream.getAudioTracks());\n    tracks.video = tracks.video.concat(stream.getVideoTracks());\n  });\n  var mediaSections = remote.mediaSections.map(function(remoteMediaSection) {\n    var kind = remoteMediaSection.kind;\n    var remoteDirection = remoteMediaSection.direction;\n\n    var remoteCapabilities = remoteMediaSection.capabilities;\n    var localCapabilities = RTCRtpSender.getCapabilities(kind);\n    var sharedCodecs = intersectCodecs(remoteCapabilities.codecs,\n      localCapabilities.codecs);\n    var sharedCapabilities = { codecs: sharedCodecs };\n\n    var capabilities = sharedCapabilities;\n    var direction;\n    var track;\n\n    // RFC 3264, Section 6.1:\n    //\n    //     If the answerer has no media formats in common for a particular\n    //     offered stream, the answerer MUST reject that media stream by\n    //     setting the port to zero.\n    //\n    if (!sharedCodecs.length) {\n      return remoteMediaSection.copyAndReject();\n    }\n\n    // RFC 3264, Section 6.1:\n    //\n    //     For streams marked as inactive in the answer, the list of media\n    //     formats is constructed based on the offer. If the offer was\n    //     sendonly, the list is constructed as if the answer were recvonly.\n    //     Similarly, if the offer was recvonly, the list is constructed as if\n    //     the answer were sendonly, and if the offer was sendrecv, the list is\n    //     constructed as if the answer were sendrecv. If the offer was\n    //     inactive, the list is constructed as if the offer were actually\n    //     sendrecv and the answer were sendrecv.\n    //\n    if (remoteDirection === 'inactive'\n      || remoteDirection === 'recvonly' && !tracks[kind].length)\n    {\n      direction = 'inactive';\n    } else if (remoteDirection === 'recvonly') {\n      track = tracks[kind].shift();\n      direction = 'sendonly';\n    } else if (remoteDirection === 'sendrecv') {\n      track = tracks[kind].shift();\n      direction = track ? 'sendrecv' : 'recvonly';\n    } else { // sendonly\n      direction = 'recvonly';\n    }\n\n    var streamId = this._streamIds.get(track);\n    var mediaSection = remoteMediaSection.copy(null, null, capabilities,\n      direction, null, streamId, track);\n    return mediaSection;\n  }, this);\n\n  // FIXME(mroberts): We should probably provision an ICE transport for each\n  // MediaSection in the event BUNDLE is not supported.\n  mediaSections.forEach(function(mediaSection) {\n    this._localCandidates.forEach(mediaSection.addCandidate, mediaSection);\n  }, this);\n\n  var sdp = sdpUtils.makeInitialSDPBlob();\n  sdpUtils.addMediaSectionsToSDPBlob(sdp, mediaSections);\n  sdpUtils.addIceParametersToSDPBlob(sdp, this._iceGatherer.getLocalParameters());\n  sdpUtils.addDtlsParametersToSDPBlob(sdp, this._dtlsTransport.getLocalParameters());\n\n  var description = new RTCSessionDescription({\n    sdp: sdpTransform.write(sdp),\n    type: 'answer'\n  });\n\n  onSuccess(description);\n};\n\nRTCPeerConnection.prototype.createDTMFSender = function createDTMFSender(track) {\n  if (!this._dtmfSenders.has(track)) {\n    var rtpSender = this._rtpSenders.get(track);\n    /* global RTCDtmfSender:true */\n    var dtmfSender = new RTCDtmfSender(rtpSender);\n    this._dtmfSenders.set(track, dtmfSender);\n  }\n  return this._dtmfSenders.get(track);\n};\n\n/**\n * Construct an {@link RTCSessionDescription} containing an SDP offer.\n * @param {?function} [onSuccess]\n * @param {?function} [onFailure]\n * @param {?RTCOfferOptions} [options]\n * @returns {Promise<RTCSessionDescription>}\n */\nRTCPeerConnection.prototype.createOffer = function createOffer(onSuccess, onFailure, options) {\n  // draft-ieft-rtcweb-jsep-11, Section 5.2.3:\n  //\n  //    If the 'OfferToReceiveAudio' option is specified, with an integer value\n  //    of N, and M audio MediaStreamTracks have been added to the\n  //    PeerConnection, the offer MUST include M non-rejected m= sections with\n  //    media type 'audio', even if N is greater than M. ... the directional\n  //    attribute on the N-M audio m= sections without associated\n  //    MediaStreamTracks MUST be set to recvonly.\n  //\n  //    ...\n  //\n  //    For backwards compatibility with pre-standards versions of this\n  //    specification, a value of 'true' is interpreted as equivalent to N=1,\n  //    and 'false' as N=0.\n  //\n  var N = { audio: null, video: null };\n  var M = { audio: 0,    video: 0    };\n  options = options || {};\n  ['optional', 'mandatory'].forEach(function(optionType) {\n    if (!(optionType in options)) {\n      return;\n    }\n    if ('OfferToReceiveAudio' in options[optionType]) {\n      N.audio = Number(options[optionType].OfferToReceiveAudio);\n    }\n    if ('OfferToReceiveVideo' in options[optionType]) {\n      N.video = Number(options[optionType].OfferToReceiveVideo);\n    }\n  });\n\n  var mediaSections = [];\n\n  // draft-ietf-rtcweb-jsep-11, Section 5.2.1:\n  //\n  //     m=sections MUST be sorted first by the order in which the MediaStreams\n  //     were added to the PeerConnection, and then by the alphabetical\n  //     ordering of the media type for the MediaStreamTrack.\n  //\n  var _N = { audio: N.audio, video: N.video };\n  var streams = this.getLocalStreams();\n  streams.forEach(function(stream) {\n    var audioTracks = stream.getAudioTracks();\n    var videoTracks = stream.getVideoTracks();\n    M.audio += audioTracks.length;\n    M.video += videoTracks.length;\n    var tracks = audioTracks.concat(videoTracks);\n    tracks.forEach(function(track) {\n      var kind = track.kind;\n      var capabilities = RTCRtpSender.getCapabilities(kind);\n      var direction;\n      var mid = this._makeMid(kind);\n      if (_N.audio === null) {\n        direction = 'sendrecv';\n      } else if (!_N[kind]) {\n        direction = 'sendonly';\n      } else {\n        _N[kind]--;\n        direction = 'sendrecv';\n      }\n      var mediaSection = new MediaSection(null, null, capabilities, direction,\n        kind, mid, null, null, stream.id, track);\n      mediaSections.push(mediaSection);\n    }, this);\n  }, this);\n\n  // Add the N-M recvonly m=sections.\n  ['audio', 'video'].forEach(function(kind) {\n    var k = Math.max(N[kind] - M[kind], 0);\n    if (!k) {\n      return;\n    }\n    var capabilities = RTCRtpSender.getCapabilities(kind);\n    var direction = 'recvonly';\n    var mid;\n    var mediaSection;\n    while (k--) {\n      mid = this._makeMid(kind);\n      mediaSection = new MediaSection(null, null, capabilities, direction,\n        kind, mid);\n      mediaSections.push(mediaSection);\n    }\n  }, this);\n\n  // FIXME(mroberts): We should probably provision an ICE transport for each\n  // MediaSection in the event BUNDLE is not supported.\n  mediaSections.forEach(function(mediaSection) {\n    this._localCandidates.forEach(mediaSection.addCandidate, mediaSection);\n  }, this);\n\n  var sdp = sdpUtils.makeInitialSDPBlob();\n  sdpUtils.addMediaSectionsToSDPBlob(sdp, mediaSections);\n  sdpUtils.addIceParametersToSDPBlob(sdp, this._iceGatherer.getLocalParameters());\n  sdpUtils.addDtlsParametersToSDPBlob(sdp, this._dtlsTransport.getLocalParameters());\n\n  var description = new RTCSessionDescription({\n    sdp: sdpTransform.write(sdp),\n    type: 'offer'\n  });\n\n  onSuccess(description);\n};\n\n/**\n * Get the {@link MediaStream}s that are currently or will be sent with this\n * {@link RTCPeerConnection}.\n * @returns {Array<MediaStream>}\n */\nRTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n  return this._localStreams.slice();\n};\n\n/**\n * Get the {@link MediaStreams} that are currently received by this\n * {@link RTCPeerConnection}.\n * @returns {Array<MediaStream>}\n */\nRTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {\n  return this._remoteStreams.slice();\n};\n\n/**\n * Apply the supplied {@link RTCSessionDescription} as the local description.\n * @param {RTCSessionDescription}\n * @param {?function} [onSuccess]\n * @param {?function} [onFailure]\n * @returns {Promise}\n */\nRTCPeerConnection.prototype.setLocalDescription = function setLocalDescription(description, onSuccess, onFailure) {\n  var nextSignalingState;\n  switch (this.signalingState) {\n    case 'stable':\n      nextSignalingState = 'have-local-offer';\n      break;\n    case 'have-remote-offer':\n    case 'have-local=offer':\n      nextSignalingState = 'stable';\n      break;\n    default:\n      return void onFailure(invalidSignalingState(this.signalingState));\n  }\n  var parsed = sdpUtils.parseDescription(description);\n  if (this.signalingState === 'have-remote-offer') {\n    parsed.mediaSections.forEach(this._sendRtp, this);\n    // FIXME(mroberts): ...\n    var remote = sdpUtils.parseDescription(this.remoteDescription);\n    var remoteSsrc = remote.mediaSections[0].capabilities.encodings[0].ssrc;\n    parsed.mediaSections.forEach(function(mediaSection) {\n      mediaSection.capabilities.encodings.forEach(function(encoding) {\n        encoding.ssrc = remoteSsrc;\n      });\n      mediaSection.capabilities.rtcp.ssrc = remoteSsrc;\n    });\n    parsed.mediaSections.forEach(this._receiveRtp, this);\n  }\n  this._localDescription = description;\n  this._signalingState = nextSignalingState;\n  onSuccess();\n};\n\n/**\n * Apply the supplied {@link RTCSessionDescription} as the remote offer or answer.\n * @param {RTCSessionDescription}\n * @param {?function} [onSuccess]\n * @param {?function} [onFailure]\n * @returns {Promise}\n */\nRTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(description, onSuccess, onFailure) {\n  var nextSignalingState;\n  console.info(this.signalingState, this.signalingState === 'have-local-offer');\n  switch (this.signalingState) {\n    case 'stable':\n      nextSignalingState = 'have-remote-offer';\n      break;\n    case 'have-local-offer':\n      nextSignalingState = 'stable';\n      break;\n    default:\n      console.info('WUT', this.signalingState);\n      return void onFailure(invalidSignalingState(this.signalingState));\n  }\n  var parsed = sdpUtils.parseDescription(description);\n  parsed.mediaSections.forEach(function(mediaSection) {\n    mediaSection.candidates.forEach(this._iceTransport.addRemoteCandidate,\n      this._iceTransport);\n  }, this);\n  this._startIceTransport(parsed.iceParameters[0]);\n  this._startDtlsTransport(parsed.dtlsParameters[0]);\n  if (this.signalingState === 'have-local-offer') {\n    parsed.mediaSections.forEach(this._receiveRtp, this);\n    // FIXME(mroberts): ...\n    parsed.mediaSections.forEach(this._sendRtp, this);\n  }\n  this._remoteDescription = description;\n  this._signalingState = nextSignalingState;\n  onSuccess();\n};\n\n/**\n * Construct an \"invalid signaling state\" {@link Error}.\n * @access private\n * @param {string} singalingState\n * @returns {Error}\n */\nfunction invalidSignalingState(signalingState) {\n  return new Error('Invalid signaling state: ' + signalingState);\n}\n\n/**\n * Check if an object is empty (i.e. the object contains no keys).\n * @access private\n * @param {object} object\n * @returns {boolean}\n */\nfunction isEmptyObject(object) {\n  return !Object.keys(object).length;\n}\n\n/**\n * Construct {@link RTCIceGatherOptions} from an {@link RTCConfiguration}.\n * @access private\n * @param {RTCConfiguration} configuration\n * @returns {RTCIceGatherOptions}\n */\nfunction makeGatherOptions(configuration) {\n  return {\n    gatherPolicy: configuration.gatherPolicy || 'all',\n    iceServers: []\n  };\n}\n\n/**\n * Construct an \"addstream\" {@link MediaStreamEvent}.\n * @access private\n * @param {MediaStream} stream\n * @returns {MediaStreamEvent}\n */\nfunction makeOnAddStreamEvent(stream) {\n  return new MediaStreamEvent('addstream', {\n    stream: stream\n  });\n}\n\n/**\n * Construct an \"icecandidate\" {@link RTCPeerConnectionIceEvent}.\n * @access private\n * @param {RTCIceCandidate} candidate\n * @returns {RTCPeerConnectionIceEvent}\n */\nfunction makeOnIceCandidateEvent(candidate) {\n  return new RTCPeerConnectionIceEvent('icecandidate', {\n    candidate: candidate\n  });\n}\n\n/**\n * Construct an ORTC ICE candidate from a WebRTC ICE candidate.\n * @access private\n * @param {RTCIceCandidate} candidate - an WebRTC ICE candidate\n * @returns {RTCIceCanddidate}\n */\nfunction makeORTCCandidate(candidate) {\n  if (!candidate) {\n    return {};\n  }\n  var start = candidate.candidate.indexOf('candidate:');\n  var line = candidate.candidate\n    .slice(start + 10)\n    .replace(/ +/g, ' ')\n    .split(' ');\n  var ortcIceCandidate = {\n    foundation: line[0],\n    protocol: line[2],\n    priority: parseInt(line[3]),\n    ip: line[4],\n    port: parseInt(line[5]),\n    type: line[7],\n    relatedAddress: null,\n    relatedPort: 0,\n    tcpType: 'active'\n  };\n  if (ortcIceCandidate.type !== 'host') {\n    ortcIceCandidate.relatedAddress = line[9];\n    ortcIceCandidate.relatedPort = parseInt(line[11]);\n  }\n  return ortcIceCandidate;\n}\n\n/**\n * Construct a WebRTC ICE candidate from an ORTC ICE candidate.\n * @access private\n * @param {RTCIceCandidate} candidate - an ORTC ICE candidate\n * @returns {RTCIceCandidate}\n */\nfunction makeWebRTCCandidate(candidate) {\n  if (isEmptyObject(candidate)) {\n    return null;\n  }\n  var line = [\n    'a=candidate',\n    candidate.foundation,\n    1,\n    candidate.protocol,\n    candidate.priority,\n    candidate.ip,\n    candidate.port,\n    candidate.type\n  ];\n  if (candidate.relatedAddress) {\n    line = line.concat([\n      'raddr',\n      candidate.relatedAddress,\n      'rport',\n      candidate.relatedPort\n    ]);\n  }\n  line.push('generation 0');\n  return new RTCIceCandidate({\n    candidate: line.join(' '),\n    sdpMLineIndex: 0\n  });\n}\n\n/**\n * Intersect codecs.\n * @param {Array<object>} localCodecs\n * @param {Array<object>} remoteCodecs\n * @returns {Array<object>}\n */\nfunction intersectCodecs(localCodecs, remoteCodecs) {\n  var sharedCodecs = [];\n  localCodecs.forEach(function(localCodec) {\n    remoteCodecs.forEach(function(remoteCodec) {\n      if (localCodec.name === remoteCodec.name &&\n        localCodec.clockRate === remoteCodec.clockRate &&\n        localCodec.numChannels === remoteCodec.numChannels)\n      {\n        sharedCodecs.push(remoteCodec);\n      }\n    });\n  });\n  return sharedCodecs;\n}\n\nmodule.exports = RTCPeerConnection;\n\n},{\"./mediasection\":23,\"./mediastreamevent\":24,\"./rtcicecandidate\":25,\"./rtcpeerconnectioniceevent\":27,\"./rtcsessiondescription\":28,\"./sdp-utils\":29,\"sdp-transform\":31}],27:[function(require,module,exports){\n'use strict';\n\n/**\n * Construct an {@link RTCPeerConnectionIceEvent}.\n * @class\n * @classdesc\n * @extends Event\n * @param {string} type - \"icecandidate\"\n * @param {object} init\n * @property {MediaStream} stream\n */\nfunction RTCPeerConnectionIceEvent(type, init) {\n  if (!(this instanceof RTCPeerConnectionIceEvent)) {\n    return new RTCPeerConnectionIceEvent(type, init);\n  }\n  Event.call(this, type, init);\n  Object.defineProperties(this, {\n    candidate: {\n      enumerable: true,\n      value: init.candidate\n    }\n  });\n}\n\nmodule.exports = RTCPeerConnectionIceEvent;\n\n},{}],28:[function(require,module,exports){\n'use strict';\n\n/**\n * Construct an {@link RTCSessionDescription}.\n * @class\n * @classdesc\n * @param {object} description\n * @property {string} sdp\n * @property {string} type - one of \"offer\" or \"answer\"\n */\nfunction RTCSessionDescription(description) {\n  if (!(this instanceof RTCSessionDescription)) {\n    return new RTCSessionDescription(description);\n  }\n  Object.defineProperties(this, {\n    sdp: {\n      enumerable: true,\n      value: description.sdp\n    },\n    type: {\n      enumerable: true,\n      value: description.type\n    }\n  });\n}\n\nmodule.exports = RTCSessionDescription;\n\n},{}],29:[function(require,module,exports){\n'use strict';\n\nvar MediaSection = require('./mediasection');\nvar sdpTransform = require('sdp-transform');\n\n/**\n * Add ICE candidates to an arbitrary level of an SDP blob.\n * @param {?object} [level={}]\n * @param {?Array<RTCIceCandidate>} [candidates]\n * @param {?number} [component] - if unspecified, add both RTP and RTCP candidates\n * @returns {object}\n */\nfunction addCandidatesToLevel(level, candidates, component) {\n  level = level || {};\n  level.candidates = level.candidates || [];\n  if (!candidates) {\n    return level;\n  }\n  candidates.forEach(function(candidate) {\n    // TODO(mroberts): Empty dictionary check.\n    if (!candidate.foundation) {\n      level.endOfCandidates = 'end-of-candidates';\n      return;\n    }\n    var candidate1 = {\n      foundation: candidate.foundation,\n      transport: candidate.protocol,\n      priority: candidate.priority,\n      ip: candidate.ip,\n      port: candidate.port,\n      type: candidate.type,\n      generation: 0\n    };\n    if (candidate.relatedAddress) {\n      candidate1.raddr = candidate.relatedAddress;\n      candidate1.rport = candidate.relatedPort;\n    }\n\n    if (typeof component === 'number') {\n      candidate1.component = component;\n      level.candidates.push(candidate1);\n      return;\n    }\n\n    // RTP candidate\n    candidate1.component = 1;\n    level.candidates.push(candidate1);\n\n    // RTCP candidate\n    var candidate2 = {};\n    for (var key in candidate1) {\n      candidate2[key] = candidate1[key];\n    }\n    candidate2.component = 2;\n    level.candidates.push(candidate2);\n  });\n  return level;\n}\n\n/**\n * Add ICE candidates to the media-levels of an SDP blob. Since this adds to\n * the media-levels, you should call this after you have added all your media.\n * @param {?object} [sdp={}]\n * @param {?Array<RTCIceCandidate>} [candidates]\n * @param {?number} [component] - if unspecified, add both RTP and RTCP candidates\n * @returns {object}\n */\nfunction addCandidatesToMediaLevels(sdp, candidates, component) {\n  sdp = sdp || {};\n  if (!sdp.media) {\n    return sdp;\n  }\n  sdp.media.forEach(function(media) {\n    addCandidatesToLevel(media, candidates, component);\n  });\n  return sdp;\n}\n\n/**\n * Add ICE candidates to the media-levels of an SDP blob. Since\n * this adds to the media-levels, you should call this after you have added\n * all your media.\n * @param {?object} [sdp={}]\n * @param {?Array<RTCIceCandidate>} [candidates]\n * @param {?number} [component] - if unspecified, add both RTP and RTCP candidates\n * @returns {object}\n */\nfunction addCandidatesToSDPBlob(sdp, candidates, component) {\n  sdp = sdp || {};\n  // addCandidatesToSessionLevel(sdp, candidates, component);\n  addCandidatesToMediaLevels(sdp, candidates, component);\n  return sdp;\n}\n\n/**\n * Add the DTLS fingerprint to the media-levels of an SDP blob.\n * Since this adds to media-levels, you should call this after you have added\n * all your media.\n * @param {?object} [sdp={}]\n * @param {RTCDtlsParameters} dtlsParameters\n * @returns {object}\n */\nfunction addDtlsParametersToSDPBlob(sdp, dtlsParameters) {\n  sdp = sdp || {};\n  // addDtlsParametersToSessionLevel(sdp, dtlsParameters);\n  addDtlsParametersToMediaLevels(sdp, dtlsParameters);\n  return sdp;\n}\n\n/**\n * Add the DTLS fingerprint to an arbitrary level of an SDP blob.\n * @param {?object} [sdp={}]\n * @param {RTCDtlsParameters} dtlsParameters\n * @returns {object}\n */\nfunction addDtlsParametersToLevel(level, dtlsParameters) {\n  level = level || {};\n  var fingerprints = dtlsParameters.fingerprints;\n  if (fingerprints.length) {\n    level.fingerprint = {\n      type: fingerprints[0].algorithm,\n      hash: fingerprints[0].value\n    };\n  }\n  return level;\n}\n\n/**\n * Add the DTLS fingerprint to the media-levels of an SDP blob. Since this adds\n * to the media-levels, you should call this after you have added all of your\n * media.\n * @param {?object} [sdp={}]\n * @param {RTCDtlsParameters} dtlsParameters\n * @returns {object}\n */\nfunction addDtlsParametersToMediaLevels(sdp, dtlsParameters) {\n  sdp = sdp || {};\n  if (!sdp.media) {\n    return sdp;\n  }\n  sdp.media.forEach(function(media) {\n    addDtlsParametersToLevel(media, dtlsParameters);\n  });\n  return sdp;\n}\n\n/**\n * Add the ICE username fragment and password to the media-levels\n * of an SDP blob. Since this adds to media-levels, you should call this after\n * you have added all your media.\n * @param {?object} [sdp={}]\n * @param {RTCIceParameters} parameters\n * @returns {object}\n */\nfunction addIceParametersToSDPBlob(sdp, iceParameters) {\n  sdp = sdp || {};\n  // addIceParametersToSessionLevel(sdp, iceParameters);\n  addIceParametersToMediaLevels(sdp, iceParameters);\n  return sdp;\n}\n\n/**\n * Add the ICE username fragment and password to the media-levels of an SDP\n * blob. Since this adds to media-levels, you should call this after you have\n * added all your media.\n * @param {?object} [sdp={}]\n * @param {RTCIceParameters} iceParameters\n * @returns {object}\n */\nfunction addIceParametersToMediaLevels(sdp, iceParameters) {\n  sdp = sdp || {};\n  if (!sdp.media) {\n    return sdp;\n  }\n  sdp.media.forEach(function(media) {\n    addIceParametersToLevel(media, iceParameters);\n  });\n  return sdp;\n}\n\n/**\n * Add the ICE username fragment and password to an arbitrary level of an SDP\n * blob.\n * @param {?object} [level={}]\n * @param {RTCIceParameters} iceParameters\n * @returns {object}\n */\nfunction addIceParametersToLevel(level, iceParameters) {\n  level = level || {};\n  level.iceUfrag = iceParameters.usernameFragment;\n  level.icePwd = iceParameters.password;\n  return level;\n}\n\n/**\n * Add a {@link MediaSection} to an SDP blob.\n * @param {object} sdp\n * @param {MediaSection} mediaSection\n * @returns {object}\n */\nfunction addMediaSectionToSDPBlob(sdp, mediaSection) {\n  var streamId = mediaSection.streamId;\n  if (streamId) {\n    sdp.msidSemantic = sdp.msidSemantic || {\n      semantic: 'WMS',\n      token: []\n    };\n    sdp.msidSemantic.token.push(streamId);\n  }\n\n  var mid = mediaSection.mid;\n  if (mid) {\n    sdp.groups = sdp.groups || [];\n    var foundBundle = false;\n    sdp.groups.forEach(function(group) {\n      if (group.type === 'BUNDLE') {\n        group.mids.push(mid);\n        foundBundle = true;\n      }\n    });\n    if (!foundBundle) {\n      sdp.groups.push({\n        type: 'BUNDLE',\n        mids: [mid]\n      });\n    }\n  }\n\n  var payloads = [];\n  var rtps = [];\n  var fmtps = [];\n  mediaSection.capabilities.codecs.forEach(function(codec) {\n    var payload = codec.preferredPayloadType;\n    payloads.push(payload);\n    var rtp = {\n      payload: payload,\n      codec: codec.name,\n      rate: codec.clockRate\n    };\n    if (codec.numChannels > 1) {\n      rtp.encoding = codec.numChannels;\n    }\n    rtps.push(rtp);\n    switch (codec.name) {\n      case 'telephone-event':\n        if (codec.parameters && codec.parameters.events) {\n          fmtps.push({\n            payload: payload,\n            config: codec.parameters.events\n          });\n        }\n        break;\n    }\n  });\n\n  var ssrcs = [];\n  if (streamId && mediaSection.track) {\n    var ssrc = Math.floor(Math.random() * 4294967296);\n    var cname = makeCname();\n    var trackId = mediaSection.track.id;\n    ssrcs = ssrcs.concat([\n      {\n        id: ssrc,\n        attribute: 'cname',\n        value: cname\n      },\n      {\n        id: ssrc,\n        attribute: 'msid',\n        value: mediaSection.streamId + ' ' + trackId\n      },\n      {\n        id: ssrc,\n        attribute: 'mslabel',\n        value: trackId\n      },\n      {\n        id: ssrc,\n        attribute: 'label',\n        value: trackId\n      }\n    ]);\n  }\n\n  // draft-ietf-rtcweb-jsep-11, Section 5.2.2:\n  //\n  //     Each \"m=\" and c=\" line MUST be filled in with the port, protocol,\n  //     and address of the default candidate for the m= section, as\n  //     described in [RFC5245], Section 4.3.  Each \"a=rtcp\" attribute line\n  //     MUST also be filled in with the port and address of the\n  //     appropriate default candidate, either the default RTP or RTCP\n  //     candidate, depending on whether RTCP multiplexing is currently\n  //     active or not.\n  //\n  var defaultCandidate = mediaSection.defaultCandidate;\n\n  var media = {\n    rtp: rtps,\n    fmtp: fmtps,\n    type: mediaSection.kind,\n    port: defaultCandidate ? defaultCandidate.port : 9,\n    payloads: payloads.join(' '),\n    protocol: 'RTP/SAVPF',\n    direction: mediaSection.direction,\n    connection: {\n      version: 4,\n      ip: defaultCandidate ? defaultCandidate.ip : '0.0.0.0'\n    },\n    rtcp: {\n      port: defaultCandidate ? defaultCandidate.port : 9,\n      netType: 'IN',\n      ipVer: 4,\n      address: defaultCandidate ? defaultCandidate.ip : '0.0.0.0'\n    },\n    ssrcs: ssrcs\n  };\n  if (mid) {\n    media.mid = mid;\n  }\n  if (mediaSection.rtcpMux) {\n    media.rtcpMux = 'rtcp-mux';\n  }\n  addCandidatesToLevel(media, mediaSection.candidates);\n  sdp.media.push(media);\n  return sdp;\n}\n\nfunction addMediaSectionsToSDPBlob(sdp, mediaSections) {\n  mediaSections.forEach(addMediaSectionToSDPBlob.bind(null, sdp));\n  return sdp;\n}\n\n/**\n * Construct an initial SDP blob.\n * @param {?number} [sessionId]\n * @returns {object}\n */\nfunction makeInitialSDPBlob(sessionId) {\n  sessionId = sessionId || Math.floor(Math.random() * 4294967296);\n  return {\n    version: 0,\n    origin: {\n      username: '-',\n      sessionId: sessionId,\n      sessionVersion: 0,\n      netType: 'IN',\n      ipVer: 4,\n      address: '127.0.0.1'\n    },\n    name: '-',\n    timing: {\n      start: 0,\n      stop: 0\n    },\n    connection: {\n      version: 4,\n      ip: '0.0.0.0'\n    },\n    media: []\n  };\n}\n\n/**\n * Parse the SDP contained in an {@link RTCSessionDescription} into individual\n * {@link RTCIceParameters}, {@link RTCDtlsParameters}, and\n * {@link RTCRtpParameters}.\n * @access private\n * @param {RTCSessionDescription} description\n * @returns {object}\n */\nfunction parseDescription(description) {\n  var sdp = sdpTransform.parse(description.sdp);\n\n  var iceParameters = [];\n  var dtlsParameters = [];\n  var candidates = [];\n  var mediaSections = [];\n\n  var levels = [sdp];\n  if (sdp.media) {\n    levels = levels.concat(sdp.media);\n  }\n\n  levels.forEach(function(level) {\n    // ICE and DTLS parameters may appear at the session- or media-levels.\n    if (level.iceUfrag && level.icePwd && level.fingerprint) {\n      iceParameters.push({\n        usernameFragment: level.iceUfrag,\n        password: level.icePwd\n      });\n      dtlsParameters.push({\n        fingerprints: [\n          {\n            algorithm: level.fingerprint.type,\n            value: level.fingerprint.hash\n          }\n        ]\n      });\n    }\n\n    // RTP parameters appear at the media-level.\n    if (level.rtp) {\n      if (level.type === 'video') {\n        return;\n      }\n      var address = level.connection ? level.connection.ip : null;\n      // var candidates;\n      var direction = level.direction;\n      var kind = level.type;\n      var mid = level.mid;\n      var port = level.port || null;\n      var rtcpMux = level.rtcpMux === 'rtcp-mux';\n\n      var cname;\n      var ssrc;\n      var streamId;\n      // var trackId;\n      // FIXME(mroberts): This breaks with multiple SSRCs.\n      (level.ssrcs || []).forEach(function(attribute) {\n        switch (attribute.attribute) {\n          case 'cname':\n            ssrc = attribute.id;\n            cname = attribute.value;\n            break;\n          case 'label':\n          case 'mslabel':\n            ssrc = attribute.id;\n            // trackId = attribute.value;\n            break;\n          case 'msid':\n            ssrc = attribute.id;\n            streamId = attribute.value.split(' ')[0];\n            break;\n        }\n      });\n\n      var capabilities = {\n        type: kind,\n        muxId: mid,\n        codecs: level.rtp.map(function(rtp) {\n          var codec = {\n            name: rtp.codec,\n            payloadType: parseInt(rtp.payload),\n            clockRate: parseInt(rtp.rate),\n            numChannels: rtp.encoding || 1,\n            rtcpFeedback: [],\n            parameters: {}\n          };\n          switch (rtp.codec) {\n            case 'telephone-event':\n              codec.parameters.events = '0-16';\n              break;\n          }\n          return codec;\n        }),\n        headerExtensions: [],\n        encodings: level.rtp.map(function(rtp) {\n          return {\n            ssrc: ssrc,\n            codecPayloadType: parseInt(rtp.payload),\n            active: true\n          };\n        }),\n        rtcp: {\n          ssrc: ssrc,\n          cname: cname,\n          mux: rtcpMux\n        }\n      };\n\n      var mediaSection = new MediaSection(address, candidates, capabilities,\n        direction, kind, mid, port, rtcpMux, streamId);\n\n      (level.candidates || []).forEach(function(candidate) {\n        var ortcCandidate = {\n          foundation: String(candidate.foundation),\n          protocol: candidate.transport,\n          priority: candidate.priority,\n          ip: candidate.ip,\n          port: candidate.port,\n          type: candidate.type,\n          relatedAddress: candidate.raddr,\n          relatedPort: candidate.rport\n        };\n        candidates.push(ortcCandidate);\n        mediaSection.addCandidate(ortcCandidate);\n      });\n\n      void candidates;\n\n      if (level.endOfCandidates === 'end-of-candidates') {\n        mediaSection.addCandidate({});\n      }\n\n      mediaSections.push(mediaSection);\n    }\n  });\n\n  return {\n    iceParameters: iceParameters,\n    dtlsParameters: dtlsParameters,\n    mediaSections: mediaSections\n  };\n}\n\nfunction makeCname() {\n  var a = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/'.split('');\n  var n = 16;\n  var cname = '';\n  while (n--) {\n    cname += a[Math.floor(Math.random() * a.length)];\n  }\n  return cname;\n}\n\nmodule.exports.addCandidatesToSDPBlob = addCandidatesToSDPBlob;\nmodule.exports.addDtlsParametersToSDPBlob = addDtlsParametersToSDPBlob;\nmodule.exports.addIceParametersToSDPBlob = addIceParametersToSDPBlob;\nmodule.exports.addMediaSectionsToSDPBlob = addMediaSectionsToSDPBlob;\nmodule.exports.makeInitialSDPBlob = makeInitialSDPBlob;\nmodule.exports.parseDescription = parseDescription;\n\n},{\"./mediasection\":23,\"sdp-transform\":31}],30:[function(require,module,exports){\nvar grammar = module.exports = {\n  v: [{\n      name: 'version',\n      reg: /^(\\d*)$/\n  }],\n  o: [{ //o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: \"%s %s %d %s IP%d %s\"\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly..\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  //k: [{}], // outdated thing ignored\n  t: [{ //t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: \"%d %d\"\n  }],\n  c: [{ //c=IN IP4 10.47.197.26\n      name: 'connection',\n      reg: /^IN IP(\\d) (\\S*)/,\n      names: ['version', 'ip'],\n      format: \"IN IP%d %s\"\n  }],\n  b: [{ //b=AS:4000\n      push: 'bandwidth',\n      reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n      names: ['type', 'limit'],\n      format: \"%s:%s\"\n  }],\n  m: [{ //m=video 51744 RTP/AVP 126 97 98 34 31\n      // NB: special - pushes to session\n      // TODO: rtp/fmtp should be filtered by the payloads found here?\n      reg: /^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,\n      names: ['type', 'port', 'protocol', 'payloads'],\n      format: \"%s %d %s %s\"\n  }],\n  a: [\n    { //a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-\\.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding) ?\n          \"rtpmap:%d %s/%s/%s\":\n          o.rate ?\n          \"rtpmap:%d %s/%s\":\n          \"rtpmap:%d %s\";\n      }\n    },\n    {\n      //a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      //a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: \"fmtp:%d %s\"\n    },\n    { //a=control:streamid=0\n        name: 'control',\n        reg: /^control:(.*)/,\n        format: \"control:%s\"\n    },\n    { //a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null) ?\n          \"rtcp:%d %s IP%d %s\":\n          \"rtcp:%d\";\n      }\n    },\n    { //a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: \"rtcp-fb:%d trr-int %d\"\n    },\n    { //a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null) ?\n          \"rtcp-fb:%s %s %s\":\n          \"rtcp-fb:%s %s\";\n      }\n    },\n    { //a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      //a=extmap:1/recvonly URI-gps-string\n      push: 'ext',\n      reg: /^extmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,\n      names: ['value', 'uri', 'config'], // value may include \"/direction\" suffix\n      format: function (o) {\n        return (o.config != null) ?\n          \"extmap:%s %s %s\":\n          \"extmap:%s %s\";\n      }\n    },\n    {\n      //a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null) ?\n          \"crypto:%d %s %s %s\":\n          \"crypto:%d %s %s\";\n      }\n    },\n    { //a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: \"setup:%s\"\n    },\n    { //a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: \"mid:%s\"\n    },\n    { //a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: \"msid:%s\"\n    },\n    { //a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*)/,\n      format: \"ptime:%d\"\n    },\n    { //a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*)/,\n      format: \"maxptime:%d\"\n    },\n    { //a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    { //a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    { //a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: \"ice-ufrag:%s\"\n    },\n    { //a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: \"ice-pwd:%s\"\n    },\n    { //a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: \"fingerprint:%s %s\"\n    },\n    {\n      //a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      //a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0\n      //a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0\n      //a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0\n      //a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation'],\n      format: function (o) {\n        var str = \"candidate:%s %d %s %d %s %d typ %s\";\n\n        str += (o.raddr != null) ? \" raddr %s rport %d\" : \"%v%v\";\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? \" tcptype %s\" : \"%v\";\n\n        if (o.generation != null) {\n          str += \" generation %d\";\n        }\n        return str;\n      }\n    },\n    { //a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    { //a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: \"remote-candidates:%s\"\n    },\n    { //a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: \"ice-options:%s\"\n    },\n    { //a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: \"ssrcs\",\n      reg: /^ssrc:(\\d*) ([\\w_]*):(.*)/,\n      names: ['id', 'attribute', 'value'],\n      format: \"ssrc:%d %s:%s\"\n    },\n    { //a=ssrc-group:FEC 1 2\n      push: \"ssrcGroups\",\n      reg: /^ssrc-group:(\\w*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: \"ssrc-group:%s %s\"\n    },\n    { //a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: \"msidSemantic\",\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: \"msid-semantic: %s %s\" // space after \":\" is not accidental\n    },\n    { //a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: \"group:%s %s\"\n    },\n    { //a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    { //a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    { //a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null) ?\n          \"sctpmap:%s %s %s\" :\n          \"sctpmap:%s %s\";\n      }\n    },\n    { // any a= that we don't understand is kepts verbatim on media.invalid\n      push: 'invalid',\n      names: [\"value\"]\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = \"%s\";\n    }\n  });\n});\n\n},{}],31:[function(require,module,exports){\nvar parser = require('./parser');\nvar writer = require('./writer');\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseFmtpConfig = parser.parseFmtpConfig;\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\n\n},{\"./parser\":32,\"./writer\":33}],32:[function(require,module,exports){\nvar toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = require('./grammar');\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar fmtpReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  }\n  return acc;\n};\n\nexports.parseFmtpConfig = function (str) {\n  return str.split(/\\;\\s?/).reduce(fmtpReducer, {});\n};\n\nexports.parsePayloads = function (str) {\n  return str.split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\n},{\"./grammar\":30}],33:[function(require,module,exports){\nvar grammar = require('./grammar');\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n      case '%%':\n        return '%';\n      case '%s':\n        return String(arg);\n      case '%d':\n        return Number(arg);\n      case '%v':\n        return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // \"v=0\" must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = \" \"; // \"s= \" must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = \"\";\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n\n},{\"./grammar\":30}],34:[function(require,module,exports){\n// Domain Public by Eric Wendelin http://www.eriwen.com/ (2008)\n//                  Luke Smith http://lucassmith.name/ (2008)\n//                  Loic Dachary <loic@dachary.org> (2008)\n//                  Johan Euphrosine <proppy@aminche.com> (2008)\n//                  Oyvind Sean Kinsey http://kinsey.no/blog (2010)\n//                  Victor Homyakov <victor-homyakov@users.sourceforge.net> (2010)\n/*global module, exports, define, ActiveXObject*/\n(function(global, factory) {\n    if (typeof exports === 'object') {\n        // Node\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals\n        global.printStackTrace = factory();\n    }\n}(this, function() {\n    /**\n     * Main function giving a function stack trace with a forced or passed in Error\n     *\n     * @cfg {Error} e The error to create a stacktrace from (optional)\n     * @cfg {Boolean} guess If we should try to resolve the names of anonymous functions\n     * @return {Array} of Strings with functions, lines, files, and arguments where possible\n     */\n    function printStackTrace(options) {\n        options = options || {guess: true};\n        var ex = options.e || null, guess = !!options.guess, mode = options.mode || null;\n        var p = new printStackTrace.implementation(), result = p.run(ex, mode);\n        return (guess) ? p.guessAnonymousFunctions(result) : result;\n    }\n\n    printStackTrace.implementation = function() {\n    };\n\n    printStackTrace.implementation.prototype = {\n        /**\n         * @param {Error} [ex] The error to create a stacktrace from (optional)\n         * @param {String} [mode] Forced mode (optional, mostly for unit tests)\n         */\n        run: function(ex, mode) {\n            ex = ex || this.createException();\n            mode = mode || this.mode(ex);\n            if (mode === 'other') {\n                return this.other(arguments.callee);\n            } else {\n                return this[mode](ex);\n            }\n        },\n\n        createException: function() {\n            try {\n                this.undef();\n            } catch (e) {\n                return e;\n            }\n        },\n\n        /**\n         * Mode could differ for different exception, e.g.\n         * exceptions in Chrome may or may not have arguments or stack.\n         *\n         * @return {String} mode of operation for the exception\n         */\n        mode: function(e) {\n            if (typeof window !== 'undefined' && window.navigator.userAgent.indexOf('PhantomJS') > -1) {\n                return 'phantomjs';\n            }\n\n            if (e['arguments'] && e.stack) {\n                return 'chrome';\n            }\n\n            if (e.stack && e.sourceURL) {\n                return 'safari';\n            }\n\n            if (e.stack && e.number) {\n                return 'ie';\n            }\n\n            if (e.stack && e.fileName) {\n                return 'firefox';\n            }\n\n            if (e.message && e['opera#sourceloc']) {\n                // e.message.indexOf(\"Backtrace:\") > -1 -> opera9\n                // 'opera#sourceloc' in e -> opera9, opera10a\n                // !e.stacktrace -> opera9\n                if (!e.stacktrace) {\n                    return 'opera9'; // use e.message\n                }\n                if (e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n                    // e.message may have more stack entries than e.stacktrace\n                    return 'opera9'; // use e.message\n                }\n                return 'opera10a'; // use e.stacktrace\n            }\n\n            if (e.message && e.stack && e.stacktrace) {\n                // e.stacktrace && e.stack -> opera10b\n                if (e.stacktrace.indexOf(\"called from line\") < 0) {\n                    return 'opera10b'; // use e.stacktrace, format differs from 'opera10a'\n                }\n                // e.stacktrace && e.stack -> opera11\n                return 'opera11'; // use e.stacktrace, format differs from 'opera10a', 'opera10b'\n            }\n\n            if (e.stack && !e.fileName) {\n                // Chrome 27 does not have e.arguments as earlier versions,\n                // but still does not have e.fileName as Firefox\n                return 'chrome';\n            }\n\n            return 'other';\n        },\n\n        /**\n         * Given a context, function name, and callback function, overwrite it so that it calls\n         * printStackTrace() first with a callback and then runs the rest of the body.\n         *\n         * @param {Object} context of execution (e.g. window)\n         * @param {String} functionName to instrument\n         * @param {Function} callback function to call with a stack trace on invocation\n         */\n        instrumentFunction: function(context, functionName, callback) {\n            context = context || window;\n            var original = context[functionName];\n            context[functionName] = function instrumented() {\n                callback.call(this, printStackTrace().slice(4));\n                return context[functionName]._instrumented.apply(this, arguments);\n            };\n            context[functionName]._instrumented = original;\n        },\n\n        /**\n         * Given a context and function name of a function that has been\n         * instrumented, revert the function to it's original (non-instrumented)\n         * state.\n         *\n         * @param {Object} context of execution (e.g. window)\n         * @param {String} functionName to de-instrument\n         */\n        deinstrumentFunction: function(context, functionName) {\n            if (context[functionName].constructor === Function &&\n                context[functionName]._instrumented &&\n                context[functionName]._instrumented.constructor === Function) {\n                context[functionName] = context[functionName]._instrumented;\n            }\n        },\n\n        /**\n         * Given an Error object, return a formatted Array based on Chrome's stack string.\n         *\n         * @param e - Error object to inspect\n         * @return Array<String> of function calls, files and line numbers\n         */\n        chrome: function(e) {\n            return (e.stack + '\\n')\n                .replace(/^[\\s\\S]+?\\s+at\\s+/, ' at ') // remove message\n                .replace(/^\\s+(at eval )?at\\s+/gm, '') // remove 'at' and indentation\n                .replace(/^([^\\(]+?)([\\n$])/gm, '{anonymous}() ($1)$2')\n                .replace(/^Object.<anonymous>\\s*\\(([^\\)]+)\\)/gm, '{anonymous}() ($1)')\n                .replace(/^(.+) \\((.+)\\)$/gm, '$1@$2')\n                .split('\\n')\n                .slice(0, -1);\n        },\n\n        /**\n         * Given an Error object, return a formatted Array based on Safari's stack string.\n         *\n         * @param e - Error object to inspect\n         * @return Array<String> of function calls, files and line numbers\n         */\n        safari: function(e) {\n            return e.stack.replace(/\\[native code\\]\\n/m, '')\n                .replace(/^(?=\\w+Error\\:).*$\\n/m, '')\n                .replace(/^@/gm, '{anonymous}()@')\n                .split('\\n');\n        },\n\n        /**\n         * Given an Error object, return a formatted Array based on IE's stack string.\n         *\n         * @param e - Error object to inspect\n         * @return Array<String> of function calls, files and line numbers\n         */\n        ie: function(e) {\n            return e.stack\n                .replace(/^\\s*at\\s+(.*)$/gm, '$1')\n                .replace(/^Anonymous function\\s+/gm, '{anonymous}() ')\n                .replace(/^(.+)\\s+\\((.+)\\)$/gm, '$1@$2')\n                .split('\\n')\n                .slice(1);\n        },\n\n        /**\n         * Given an Error object, return a formatted Array based on Firefox's stack string.\n         *\n         * @param e - Error object to inspect\n         * @return Array<String> of function calls, files and line numbers\n         */\n        firefox: function(e) {\n            return e.stack.replace(/(?:\\n@:0)?\\s+$/m, '')\n                .replace(/^(?:\\((\\S*)\\))?@/gm, '{anonymous}($1)@')\n                .split('\\n');\n        },\n\n        opera11: function(e) {\n            var ANON = '{anonymous}', lineRE = /^.*line (\\d+), column (\\d+)(?: in (.+))? in (\\S+):$/;\n            var lines = e.stacktrace.split('\\n'), result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    var location = match[4] + ':' + match[1] + ':' + match[2];\n                    var fnName = match[3] || \"global code\";\n                    fnName = fnName.replace(/<anonymous function: (\\S+)>/, \"$1\").replace(/<anonymous function>/, ANON);\n                    result.push(fnName + '@' + location + ' -- ' + lines[i + 1].replace(/^\\s+/, ''));\n                }\n            }\n\n            return result;\n        },\n\n        opera10b: function(e) {\n            // \"<anonymous function: run>([arguments not available])@file://localhost/G:/js/stacktrace.js:27\\n\" +\n            // \"printStackTrace([arguments not available])@file://localhost/G:/js/stacktrace.js:18\\n\" +\n            // \"@file://localhost/G:/js/test/functional/testcase1.html:15\"\n            var lineRE = /^(.*)@(.+):(\\d+)$/;\n            var lines = e.stacktrace.split('\\n'), result = [];\n\n            for (var i = 0, len = lines.length; i < len; i++) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    var fnName = match[1] ? (match[1] + '()') : \"global code\";\n                    result.push(fnName + '@' + match[2] + ':' + match[3]);\n                }\n            }\n\n            return result;\n        },\n\n        /**\n         * Given an Error object, return a formatted Array based on Opera 10's stacktrace string.\n         *\n         * @param e - Error object to inspect\n         * @return Array<String> of function calls, files and line numbers\n         */\n        opera10a: function(e) {\n            // \"  Line 27 of linked script file://localhost/G:/js/stacktrace.js\\n\"\n            // \"  Line 11 of inline#1 script in file://localhost/G:/js/test/functional/testcase1.html: In function foo\\n\"\n            var ANON = '{anonymous}', lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n'), result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    var fnName = match[3] || ANON;\n                    result.push(fnName + '()@' + match[2] + ':' + match[1] + ' -- ' + lines[i + 1].replace(/^\\s+/, ''));\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 7.x-9.2x only!\n        opera9: function(e) {\n            // \"  Line 43 of linked script file://localhost/G:/js/stacktrace.js\\n\"\n            // \"  Line 7 of inline#1 script in file://localhost/G:/js/test/functional/testcase1.html\\n\"\n            var ANON = '{anonymous}', lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n'), result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(ANON + '()@' + match[2] + ':' + match[1] + ' -- ' + lines[i + 1].replace(/^\\s+/, ''));\n                }\n            }\n\n            return result;\n        },\n\n        phantomjs: function(e) {\n            var ANON = '{anonymous}', lineRE = /(\\S+) \\((\\S+)\\)/i;\n            var lines = e.stack.split('\\n'), result = [];\n\n            for (var i = 1, len = lines.length; i < len; i++) {\n                lines[i] = lines[i].replace(/^\\s+at\\s+/gm, '');\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(match[1] + '()@' + match[2]);\n                }\n                else {\n                    result.push(ANON + '()@' + lines[i]);\n                }\n            }\n\n            return result;\n        },\n\n        // Safari 5-, IE 9-, and others\n        other: function(curr) {\n            var ANON = '{anonymous}', fnRE = /function(?:\\s+([\\w$]+))?\\s*\\(/, stack = [], fn, args, maxStackSize = 10;\n            var slice = Array.prototype.slice;\n            while (curr && stack.length < maxStackSize) {\n                fn = fnRE.test(curr.toString()) ? RegExp.$1 || ANON : ANON;\n                try {\n                    args = slice.call(curr['arguments'] || []);\n                } catch (e) {\n                    args = ['Cannot access arguments: ' + e];\n                }\n                stack[stack.length] = fn + '(' + this.stringifyArguments(args) + ')';\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    stack[stack.length] = 'Cannot access caller: ' + e;\n                    break;\n                }\n            }\n            return stack;\n        },\n\n        /**\n         * Given arguments array as a String, substituting type names for non-string types.\n         *\n         * @param {Arguments,Array} args\n         * @return {String} stringified arguments\n         */\n        stringifyArguments: function(args) {\n            var result = [];\n            var slice = Array.prototype.slice;\n            for (var i = 0; i < args.length; ++i) {\n                var arg = args[i];\n                if (arg === undefined) {\n                    result[i] = 'undefined';\n                } else if (arg === null) {\n                    result[i] = 'null';\n                } else if (arg.constructor) {\n                    // TODO constructor comparison does not work for iframes\n                    if (arg.constructor === Array) {\n                        if (arg.length < 3) {\n                            result[i] = '[' + this.stringifyArguments(arg) + ']';\n                        } else {\n                            result[i] = '[' + this.stringifyArguments(slice.call(arg, 0, 1)) + '...' + this.stringifyArguments(slice.call(arg, -1)) + ']';\n                        }\n                    } else if (arg.constructor === Object) {\n                        result[i] = '#object';\n                    } else if (arg.constructor === Function) {\n                        result[i] = '#function';\n                    } else if (arg.constructor === String) {\n                        result[i] = '\"' + arg + '\"';\n                    } else if (arg.constructor === Number) {\n                        result[i] = arg;\n                    } else {\n                        result[i] = '?';\n                    }\n                }\n            }\n            return result.join(',');\n        },\n\n        sourceCache: {},\n\n        /**\n         * @return {String} the text from a given URL\n         */\n        ajax: function(url) {\n            var req = this.createXMLHTTPObject();\n            if (req) {\n                try {\n                    req.open('GET', url, false);\n                    //req.overrideMimeType('text/plain');\n                    //req.overrideMimeType('text/javascript');\n                    req.send(null);\n                    //return req.status == 200 ? req.responseText : '';\n                    return req.responseText;\n                } catch (e) {\n                }\n            }\n            return '';\n        },\n\n        /**\n         * Try XHR methods in order and store XHR factory.\n         *\n         * @return {XMLHttpRequest} XHR function or equivalent\n         */\n        createXMLHTTPObject: function() {\n            var xmlhttp, XMLHttpFactories = [\n                function() {\n                    return new XMLHttpRequest();\n                }, function() {\n                    return new ActiveXObject('Msxml2.XMLHTTP');\n                }, function() {\n                    return new ActiveXObject('Msxml3.XMLHTTP');\n                }, function() {\n                    return new ActiveXObject('Microsoft.XMLHTTP');\n                }\n            ];\n            for (var i = 0; i < XMLHttpFactories.length; i++) {\n                try {\n                    xmlhttp = XMLHttpFactories[i]();\n                    // Use memoization to cache the factory\n                    this.createXMLHTTPObject = XMLHttpFactories[i];\n                    return xmlhttp;\n                } catch (e) {\n                }\n            }\n        },\n\n        /**\n         * Given a URL, check if it is in the same domain (so we can get the source\n         * via Ajax).\n         *\n         * @param url {String} source url\n         * @return {Boolean} False if we need a cross-domain request\n         */\n        isSameDomain: function(url) {\n            return typeof location !== \"undefined\" && url.indexOf(location.hostname) !== -1; // location may not be defined, e.g. when running from nodejs.\n        },\n\n        /**\n         * Get source code from given URL if in the same domain.\n         *\n         * @param url {String} JS source URL\n         * @return {Array} Array of source code lines\n         */\n        getSource: function(url) {\n            // TODO reuse source from script tags?\n            if (!(url in this.sourceCache)) {\n                this.sourceCache[url] = this.ajax(url).split('\\n');\n            }\n            return this.sourceCache[url];\n        },\n\n        guessAnonymousFunctions: function(stack) {\n            for (var i = 0; i < stack.length; ++i) {\n                var reStack = /\\{anonymous\\}\\(.*\\)@(.*)/,\n                    reRef = /^(.*?)(?::(\\d+))(?::(\\d+))?(?: -- .+)?$/,\n                    frame = stack[i], ref = reStack.exec(frame);\n\n                if (ref) {\n                    var m = reRef.exec(ref[1]);\n                    if (m) { // If falsey, we did not get any file/line information\n                        var file = m[1], lineno = m[2], charno = m[3] || 0;\n                        if (file && this.isSameDomain(file) && lineno) {\n                            var functionName = this.guessAnonymousFunction(file, lineno, charno);\n                            stack[i] = frame.replace('{anonymous}', functionName);\n                        }\n                    }\n                }\n            }\n            return stack;\n        },\n\n        guessAnonymousFunction: function(url, lineNo, charNo) {\n            var ret;\n            try {\n                ret = this.findFunctionName(this.getSource(url), lineNo);\n            } catch (e) {\n                ret = 'getSource failed with url: ' + url + ', exception: ' + e.toString();\n            }\n            return ret;\n        },\n\n        findFunctionName: function(source, lineNo) {\n            // FIXME findFunctionName fails for compressed source\n            // (more than one function on the same line)\n            // function {name}({args}) m[1]=name m[2]=args\n            var reFunctionDeclaration = /function\\s+([^(]*?)\\s*\\(([^)]*)\\)/;\n            // {name} = function ({args}) TODO args capture\n            // /['\"]?([0-9A-Za-z_]+)['\"]?\\s*[:=]\\s*function(?:[^(]*)/\n            var reFunctionExpression = /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/;\n            // {name} = eval()\n            var reFunctionEvaluation = /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/;\n            // Walk backwards in the source lines until we find\n            // the line which matches one of the patterns above\n            var code = \"\", line, maxLines = Math.min(lineNo, 20), m, commentPos;\n            for (var i = 0; i < maxLines; ++i) {\n                // lineNo is 1-based, source[] is 0-based\n                line = source[lineNo - i - 1];\n                commentPos = line.indexOf('//');\n                if (commentPos >= 0) {\n                    line = line.substr(0, commentPos);\n                }\n                // TODO check other types of comments? Commented code may lead to false positive\n                if (line) {\n                    code = line + code;\n                    m = reFunctionExpression.exec(code);\n                    if (m && m[1]) {\n                        return m[1];\n                    }\n                    m = reFunctionDeclaration.exec(code);\n                    if (m && m[1]) {\n                        //return m[1] + \"(\" + (m[2] || \"\") + \")\";\n                        return m[1];\n                    }\n                    m = reFunctionEvaluation.exec(code);\n                    if (m && m[1]) {\n                        return m[1];\n                    }\n                }\n            }\n            return '(?)';\n        }\n    };\n\n    return printStackTrace;\n}));\n\n},{}],35:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],36:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],37:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n},{\"./support/isBuffer\":36,\"inherits\":35}],38:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = (function() { return this; })();\n\n/**\n * WebSocket constructor.\n */\n\nvar WebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WebSocket ? ws : null;\n\n/**\n * WebSocket constructor.\n *\n * The third `opts` options object gets ignored in web browsers, since it's\n * non-standard, and throws a TypeError if passed to the constructor.\n * See: https://github.com/einaros/ws/issues/227\n *\n * @param {String} uri\n * @param {Array} protocols (optional)\n * @param {Object) opts (optional)\n * @api public\n */\n\nfunction ws(uri, protocols, opts) {\n  var instance;\n  if (protocols) {\n    instance = new WebSocket(uri, protocols);\n  } else {\n    instance = new WebSocket(uri);\n  }\n  return instance;\n}\n\nif (WebSocket) ws.prototype = WebSocket.prototype;\n\n},{}],39:[function(require,module,exports){\nexports.XMLHttpRequest = XMLHttpRequest;\n\n},{}]},{},[1]);\n", "export default require(\"./node_modules/twilio-client-mirror/twilio.js\");"],
  "mappings": "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",
  "names": []
}
